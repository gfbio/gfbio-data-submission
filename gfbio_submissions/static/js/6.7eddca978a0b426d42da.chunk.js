(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{d26088e76a0c90e341f8:function(e,t,o){"use strict";o.r(t),o.d(t,"SubmissionForm",(function(){return us}));var r,n=o("8af190b70a6bc55c6f1b"),a=o.n(n),i=(o("8a2d1b95e05b6a321e74"),o("d7dd51e1bf6bfc2c9c3d")),s=o("a28fc3c963a1d4d1a2e5"),c=o("ab4cb61bcb2dc161defb"),l=o("adc20f99e57c573c589c"),u=o("d95b0cf107403b178365"),d=o("edc5ec6b13db97ea0a32"),p=o("c79bff71b4b446824c56"),f=o.n(p),m=o("49837adb44020fc33e49"),b=o.n(m),v=o("9175f54fd37eaa876ede"),h=o("78069eb42d60e3550082"),y=o("abf0602807d6660b903b");function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,o,n){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:r,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x,C={CC010:{name:"CC0 1.0",shortDescription:"Others can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.",link:"https://creativecommons.org/publicdomain/zero/1.0/deed.en"},CCBY40:{name:"CC BY 4.0",shortDescription:"This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. ",link:"https://creativecommons.org/licenses/by/4.0/deed.en"},CCBYNC40:{name:"CC BY-NC 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don\u2019t have to license their derivative works on the same terms.",link:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},CCBYNCND40:{name:"CC BY-NC-ND 4.0",shortDescription:"This license lets others reuse the work for any purpose, including commercially; however, it cannot be shared with others in adapted form, and credit must be provided to you.",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en"},CCBYNCSA40:{name:"CC BY-NC-SA 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en"},CCBYND40:{name:"CC BY-ND 4.0",shortDescription:"This license is the most restrictive of the main creative commons licenses, only allowing others to download your works and share themwith others as long as they credit you, but they can\u2019t change them in any way or use them commercially.",link:"https://creativecommons.org/licenses/by-nd/4.0/deed.en"},CCBYSA40:{name:"CC BY-SA 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms.",link:"https://creativecommons.org/licenses/by-sa/4.0/deed.en"},OtherLicense:{name:"Other License",shortDescription:"",link:""}},_=O("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},void 0,O("span",{"aria-hidden":"true"},void 0,"\xd7")),P=O("h5",{},void 0,"What does this mean ?"),E=function(e){function t(){return w(this,t),N(this,k(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=this;return Object.keys(C).map((function(t){return O("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},t,O("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},void 0,O("div",{className:"modal-content"},void 0,O("div",{className:"modal-header"},void 0,O("h4",{className:"modal-title",id:"exampleModalCenterTitle"},void 0,C[t].name+" Description"),_),O("div",{className:"modal-body"},void 0,P,O("p",{},void 0,C[t].shortDescription)),O("div",{className:"modal-footer"},void 0,O("a",{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",href:C[t].link,target:"_blank"},void 0,"Read More"),O("a",{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted mt-0","data-dismiss":"modal",onClick:function(){return e.props.onClickLicense(C[t].name)}},void 0,"Choose this License")))))}))}}])&&j(o.prototype,r),n&&j(o,n),t}(a.a.PureComponent);function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,o,r){x||(x="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:x,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==D(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B,M=[{name:"Author/Creator",description:"Main researcher involved in producing the dataset or data package of a project, or the author of the (data) publication (may be a corporate/institutional or personal name)."},{name:"Content Contact",description:"Person with knowledge of how to access, troubleshoot, or otherwise field issues related to the content of the dataset or data package in a project."},{name:"Data Curator",description:"Person tasked with curating, reviewing, enhancing, cleaning, or standardizing the content of a dataset or data package managed in a project or submitted for storage, use, and maintenance within a data repository."},{name:"Data Editor/Data Manager",description:"Person (or organisation with a staff of data managers) responsible for maintaining the finished dataset or data package."},{name:"Data Owner",description:"Person or institution owning or managing property rights, including intellectual property rights over the dataset or data package of a project."},{name:"Data Owner Contact",description:"Representative for person or institution owning or managing property rights, including intellectual property rights over the dataset or data package of a project."},{name:"Principal Investigator",description:"Person leading an investigation, research study or research group."},{name:"Researcher",description:"Person involved in analyzing data or the results of an experiment or formal study. May indicate an intern or assistant to one of the authors who helped with research but who was not so \u201ckey\u201d as to be listed as an author."},{name:"Data Source Organisation",description:"Organisation with license rights over the datasets or data packages of a project (might be identical with the data."}],U=A("div",{className:"modal-header"},void 0,A("h4",{className:"modal-title",id:"exampleModalCenterTitle"},void 0,"Roles Description"),A("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},void 0,A("span",{"aria-hidden":"true"},void 0,"\xd7"))),$=function(e){function t(){return I(this,t),F(this,L(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=M.map((function(e){return A("div",{className:"row border-bottom roles-padding"},void 0,A("div",{className:"col-md-3 flex-center font-weight-bold padding-0"},void 0,e.name),A("div",{className:"col-md-9 padding-15"},void 0,e.description))}));return A("div",{className:"modal fade",id:"rolesInfo",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},void 0,A("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg h80",role:"document"},void 0,A("div",{className:"modal-content h80"},void 0,U,A("div",{className:"modal-body"},void 0,e))))}}])&&R(o.prototype,r),n&&R(o,n),t}(a.a.PureComponent),V=o("51211e9c1f6999c9c028");function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function H(e,t,o,r){B||(B="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:B,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],r=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){X(e,t,o[t])}))}return e}function K(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ee=H("div",{className:"select-contributor"},void 0,"select contributor"),te=H("i",{className:"fa fa-plus"}),oe=H("div",{className:"form-group col-md-6"}),re=H("div",{className:"form-group col-md-4"}),ne=H("i",{className:"fa fa-bars drag-bars"}),ae=H("div",{className:"form-group col-md-2"}),ie=H("div",{className:"form-group col-md-4"}),se=H("div",{className:"form-group col-md-4"}),ce=H("div",{className:"text-center"},void 0,"Contributors List"),le=H($,{}),ue=H("header",{className:"header header-left form-header-top mb-3"},void 0,H("h2",{className:"section-title"},void 0,"Contributors"),H("p",{className:"section-subtitle"},void 0,"(optional)")),de=H("label",{htmlFor:"emailAddress"},void 0,"Email Address"),pe=H("label",{htmlFor:"contribution"},void 0,"Contributor Role (optional)",H("a",{className:"align-bottom","data-toggle":"modal","data-target":"#rolesInfo"},void 0,H("i",{className:"icon ion-ios-help-circle-outline question-pointer","aria-hidden":"true"}))),fe=H("div",{id:"contribErr",className:"input-error fade-out"},void 0,"Pipe character is not allowed"),me=function(e){function t(e){var o,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=J(t).call(this,e),o=!n||"object"!==z(n)&&"function"!==typeof n?Q(r):n,X(Q(Q(o)),"cleanEditForm",(function(){document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("emailAddress").value="",document.getElementById("institution").value="",document.getElementById("firstName").classList.remove("error"),document.getElementById("lastName").classList.remove("error"),document.getElementById("emailAddress").classList.remove("error"),document.getElementById("institution").classList.remove("error")})),X(Q(Q(o)),"onSave",(function(){if(o.validateFormValues()){var e=K(o.state.contributorsArray);-1!==o.state.contributorIndex&&0!==e.length?e.splice(o.state.contributorIndex,1,o.state.formValues):(o.state.formValues.position=e.length+1,e.push(o.state.formValues)),o.closeFormBody(),o.setState({contributorsArray:e},o.setFormChanged)}})),X(Q(Q(o)),"setFormChanged",(function(){var e=K(o.state.contributorsArray),t=K(o.state.originalContributors);JSON.stringify(t)!==JSON.stringify(e)?o.props.setFormChanged(!0):o.props.setFormChanged(!1),o.props.setContributors(e)})),X(Q(Q(o)),"onClickAddButton",(function(e){o.setState({formOpen:!e,showAddDiv:e})})),X(Q(Q(o)),"closeFormBody",(function(){o.cleanEditForm(),o.showAddContributorDiv(),o.setState({formOpen:!1,formValues:{},roles:[],organisationRoleSelected:!1,contributorIndex:-1})})),X(Q(Q(o)),"onClickRemove",(function(){var e=1,t=K(o.state.contributorsArray).map((function(t,r){return r!==o.state.contributorIndex&&(t.position=e,e+=1),t}));t.splice(o.state.contributorIndex,1),o.setState({contributorsArray:t},o.setFormChanged),o.showAddContributorDiv(),o.closeFormBody()})),X(Q(Q(o)),"showAddContributorDiv",(function(){return setTimeout((function(){o.setState({showAddDiv:!0})}),400)})),X(Q(Q(o)),"onClickDetailButton",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(o.cleanEditForm(),e>=0){if(o.state.contributorIndex===e)return void o.closeFormBody();var t=o.rolesToArray(o.state.contributorsArray[e].contribution),r=!1;t.forEach((function(e){"Data Source Organisation"===e.role&&(r=!0)}));var n=o.getFormValues(o.state.contributorsArray,e);o.setState({formValues:W({},n),detailOpen:!0,formOpen:!0,showAddDiv:!1,contributorIndex:e,organisationRoleSelected:r,roles:t})}})),X(Q(Q(o)),"onSelectChange",(function(e){o.scrollContributorsToTop();var t=!1,r=o.state.formValues;r.contribution=o.rolesToCSV(e),e.forEach((function(e){"Data Source Organisation"===e.role&&(t=!0)})),t||document.getElementById("institution").classList.remove("error"),o.setState({roles:e,organisationRoleSelected:t,formValues:r})})),X(Q(Q(o)),"reorder",(function(e,t,o){var r=Array.from(e),n=Y(r.splice(t,1),1)[0];r.splice(o,0,n);var a=1;return r=r.map((function(e){return e.position=a,a+=1,e}))})),o.state={formValues:{},formOpen:!1,showAddDiv:!0,contributorIndex:-1,roles:[],contributors:[],contributorsArray:[],originalContributors:[],organisationRoleSelected:!1},o.handleChange=o.handleChange.bind(Q(Q(o))),o.handleInputClick=o.handleInputClick.bind(Q(Q(o))),o.onDragEnd=o.onDragEnd.bind(Q(Q(o))),o.preventSubmit=o.preventSubmit.bind(Q(Q(o))),o.roleOptions=[{role:"Author/Creator",id:0,category:"Main Roles"},{role:"Content Contact",id:1,category:"Main Roles"},{role:"Principal Investigator",id:2,category:"Main Roles"},{role:"Data Owner",id:3,category:"Additional Roles"},{role:"Data Curator",id:4,category:"Additional Roles"},{role:"Data Editor/Data Manager",id:5,category:"Additional Roles"},{role:"Data Owner Contact",id:6,category:"Additional Roles"},{role:"Researcher",id:7,category:"Additional Roles"},{role:"Data Source Organisation",id:8,category:"Additional Roles"}],o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),o=t,(r=[{key:"getContributorsAsArray",value:function(e){var t=Array.from(e,(function(e){return Object.assign({},e)}));return t.sort((function(e,t){return e.position-t.position})),t.forEach((function(e,o){e.position||0===e.position||(e.position=0===o?1:t[o-1].position+1)})),t}},{key:"updateContributorsFromProps",value:function(){var e=[];if(void 0!==this.props.contributors&&(e=this.props.contributors),Array.isArray(e)||(e=this.props.contributors.toJS()),JSON.stringify(this.state.contributors)!==JSON.stringify(e)){if(0===e.length)return this.cleanEditForm(),void this.setState({formValues:{},formOpen:!1,showAddDiv:!0,contributorIndex:-1,roles:[],contributors:[],contributorsArray:[]});var t=this.getContributorsAsArray(e);0===this.state.originalContributors.length?this.setState({contributors:e,originalContributors:e,contributorsArray:t,formValues:{}}):this.setState({contributors:e,contributorsArray:t})}}},{key:"setReadOnlyForContributors",value:function(){this.props.readOnly?(document.getElementsByClassName("searchBox")[0].disabled=!0,document.getElementById("multiselectContainerReact").firstChild.classList.add("disabled")):(document.getElementsByClassName("searchBox")[0].disabled=!1,document.getElementById("multiselectContainerReact").firstChild.classList.remove("disabled"))}},{key:"componentDidMount",value:function(){this.updateContributorsFromProps(),this.setReadOnlyForContributors()}},{key:"componentDidUpdate",value:function(){this.updateContributorsFromProps(),this.setReadOnlyForContributors()}},{key:"validateFormValues",value:function(){var e=this,t=!0;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.state.formValues.emailAddress).toLowerCase())||(document.getElementById("emailAddress").classList.add("error"),t=!1),this.state.formValues.firstName||this.state.organisationRoleSelected||(t=!1,document.getElementById("firstName").classList.add("error")),this.state.formValues.lastName||this.state.organisationRoleSelected||(t=!1,document.getElementById("lastName").classList.add("error")),this.state.formValues.emailAddress||(t=!1,document.getElementById("emailAddress").classList.add("error")),!this.state.formValues.institution&&this.state.organisationRoleSelected&&(t=!1,document.getElementById("institution").classList.add("error")),Object.keys(this.state.formValues).forEach((function(o){"position"!==o&&-1!==e.state.formValues[o].indexOf("|")&&(document.getElementById(o).classList.add("error"),t=!1,e.showContribInputErr(o))})),t}},{key:"handleChange",value:function(e){var t=this.state.formValues;-1===e.target.value.indexOf("|")&&document.getElementById(e.target.id).classList.remove("error"),t[e.target.id]=e.target.value,this.setState({formValues:W({},t)})}},{key:"handleInputClick",value:function(e){-1===e.target.value.indexOf("|")&&document.getElementById(e.target.id).classList.remove("error")}},{key:"showContribInputErr",value:function(e){document.getElementById(e).classList.add("error"),document.getElementById("contribErr").classList.contains("contributor-input-error")||(document.getElementById("contribErr").classList.remove("fade-out"),document.getElementById("contribErr").classList.add("contributor-input-error"),setTimeout((function(){document.getElementById("contribErr").classList.add("fade-out"),setTimeout((function(){document.getElementById("contribErr").classList.remove("contributor-input-error")}),1500)}),2e3))}},{key:"preventSubmit",value:function(e){13===e.keyCode&&e.preventDefault(),"|"===e.key&&this.showContribInputErr(e.target.id)}},{key:"rolesToCSV",value:function(e){var t="";return e.forEach((function(e){t+="".concat(e.role,",")})),t=t.slice(0,-1)}},{key:"rolesToArray",value:function(e){var t=this;if(!e||0===e.length)return[];var o=e.split(","),r=[];return o.forEach((function(e){t.roleOptions.forEach((function(t){t.role===e&&r.push(t)}))})),r}},{key:"scrollContributorsToTop",value:function(){document.getElementsByClassName("optionContainer")[0].scrollTop=0}},{key:"onDragEnd",value:function(e){if(e.destination){var t=this.reorder(this.state.contributorsArray,e.source.index,e.destination.index),o=-1===this.state.contributorIndex?-1:e.destination.index,r=this.getFormValues(t,e.destination.index);this.setState({contributorsArray:t,contributorIndex:o,formValues:W({},r)},this.setFormChanged)}}},{key:"getFormValues",value:function(e,t){var o={position:-1,firstName:"",lastName:"",institution:"",contribution:"",emailAddress:""};return Object.keys(e[t]).forEach((function(r){o[r]=e[t][r]})),o}},{key:"render",value:function(){var e=this,t=this.state,o=t.formOpen,r=t.detailOpen,n=H("div",{className:"add-contributor-div"},void 0,this.props.readOnly?ee:H(f.a,{className:"btn btn-primary btn-contributor",onClick:function(){return e.onClickAddButton(!e.state.showAddDiv)},"aria-controls":"contributorForm","aria-expanded":o},void 0,te," add contributor")),i=-1===this.state.contributorIndex?null:H("div",{className:"form-group col-md-2"},void 0,H(f.a,{className:"btn btn-secondary btn-sm btn-block btn-red-inverted",onClick:function(){return e.onClickRemove()},"aria-controls":"contributorEditForm","aria-expanded":r},void 0,"Remove")),s=-1===this.state.contributorIndex?oe:re,c=this.state.contributorsArray.map((function(t,o){var n="".concat(t.firstName," ").concat(t.lastName);return t.contribution&&t.contribution.includes("Data Source Organisation")&&(n=t.institution),H(h.Draggable,{draggableId:"contributor-dragId-".concat(t.position),index:o,className:"no-outline",isDragDisabled:e.props.readOnly},"drag-key-".concat(t.position),(function(i){return a.a.createElement("div",G({ref:i.innerRef},i.draggableProps,i.dragHandleProps),H("div",{className:"row"},void 0,H("div",{className:"col"},void 0,ne,H(f.a,{className:"btn btn-primary btn-contributor contributor-draggable-btn",onClick:function(){return e.onClickDetailButton(o)},"aria-controls":"contributorForm","aria-expanded":r},void 0,"".concat(t.position,". ").concat(n)))))}))})),l=this.props.readOnly?H("div",{className:"form-row"},void 0,H("div",{className:"form-group col-md-2"},void 0,H(f.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",onClick:function(){return e.closeFormBody()},"aria-controls":"contributorForm","aria-expanded":o},void 0,"Close")),ae,ie,se):H("div",{className:"form-row"},void 0,H("div",{className:"form-group col-md-2"},void 0,H(f.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",onClick:function(){return e.closeFormBody()},"aria-controls":"contributorForm","aria-expanded":o},void 0,"Cancel")),i,s,H("div",{className:"form-group col-md-4"},void 0,H(f.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue",onClick:this.onSave,"aria-controls":"contributorForm","aria-expanded":o},void 0,"Save"))),u=ce;return H("div",{},void 0,le,ue,H("div",{className:"form-group"},void 0,H("div",{className:"row"},void 0,H("div",{className:"col-md-3"},void 0,H(h.DragDropContext,{onDragEnd:this.onDragEnd},void 0,H("div",{className:"droppable-contributors"},void 0,H(h.Droppable,{droppableId:"droppable"},void 0,(function(e){return a.a.createElement("div",G({},e.droppableProps,{ref:e.innerRef}),0===c.length?u:c,e.placeholder)}))))),H("div",{className:"col-md-9 add-contributor-col"},void 0,this.state.showAddDiv?n:null,H(b.a,{in:this.state.formOpen},void 0,H("div",{className:"card card-body"},void 0,H("h5",{},void 0,-1===this.state.contributorIndex?"Add Contributor":"Edit Contributor"),H("div",{className:"form-row"},void 0,H("div",{className:"form-group col-md-3"},void 0,H("label",{htmlFor:"firstName"},void 0,"First Name"," ",this.state.organisationRoleSelected?"(optional)":""),H("input",{type:"text",className:"form-control",id:"firstName",onKeyDown:this.preventSubmit,onChange:this.handleChange,onClick:this.handleInputClick,value:this.state.formValues.firstName,disabled:this.props.readOnly})),H("div",{className:"form-group col-md-3"},void 0,H("label",{htmlFor:"lastName"},void 0,"Last Name"," ",this.state.organisationRoleSelected?"(optional)":""),H("input",{type:"text",className:"form-control",id:"lastName",onKeyDown:this.preventSubmit,onChange:this.handleChange,onClick:this.handleInputClick,value:this.state.formValues.lastName,disabled:this.props.readOnly})),H("div",{className:"form-group col-md-6"},void 0,de,H("input",{type:"email",className:"form-control",id:"emailAddress",onKeyDown:this.preventSubmit,placeholder:"name@example.com",onChange:this.handleChange,onClick:this.handleInputClick,value:this.state.formValues.emailAddress,disabled:this.props.readOnly}))),H("div",{className:"form-row"},void 0,H("div",{className:"form-group col-md-12"},void 0,H("label",{htmlFor:"institution"},void 0,"Institution"," ",this.state.organisationRoleSelected?"":"(optional)"),H("input",{type:"text",className:"form-control",id:"institution",onKeyDown:this.preventSubmit,onChange:this.handleChange,onClick:this.handleInputClick,value:this.state.formValues.institution,disabled:this.props.readOnly})),H("div",{className:"form-group col-md-12"},void 0,pe,H(v.Multiselect,{placeholder:"Select Roles",options:this.roleOptions,selectedValues:this.state.roles,onSelect:this.onSelectChange,onRemove:this.onSelectChange,displayValue:"role",groupBy:"category",closeIcon:"circle",showCheckbox:!0,avoidHighlightFirstOption:!0}))),fe,l))))))}}])&&q(o.prototype,r),n&&q(o,n),t}(a.a.PureComponent),be=Object(s.b)({contributors:Object(y.c)()});var ve,he=Object(i.connect)(be,(function(e){return{setFormChanged:function(t){return e(Object(V.E)(t))},setContributors:function(t){return e(Object(V.C)(t))}}})),ye=Object(c.compose)(he)(me);function ge(e){return(ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function we(e,t,o,r){ve||(ve="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:ve,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==ge(t)&&"function"!==typeof t?Ce(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Pe,Ee=we("header",{className:"header header-left form-header-top"},void 0,we("h2",{className:"section-title"},void 0,"Target Datacenter"),we("p",{className:"section-subtitle"},void 0,"(optional)")),De=function(e){function t(){var e,o;je(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _e(Ce(Ce(o=ke(this,(e=Se(t)).call.apply(e,[this].concat(n))))),"dataCenterList",["GFBio Data Centers - our curators will suggest the appropriate one(s)","ENA \u2013 European Nucleotide Archive","PANGAEA \u2013 Data Publisher for Earth & Environmental Science","IPK - Leibniz Institute of Plant Genetics and Crop Plant Research","BGBM \u2013 Botanic Garden and Botanical Museum Berlin, Freie Universit\xe4t Berlin","DSMZ \u2013 Leibniz Institute DSMZ \u2013 German Collection of Microorganisms and Cell Cultures, Braunschweig","MfN \u2013 Leibniz Institute for Research on Evolution and Biodiversity, Berlin","SGN \u2013 Senckenberg Gesellschaft f\xfcr Naturforschung \u2013 Leibniz Institute, Frankfurt","SMNS \u2013 State Museum of Natural History Stuttgart","SNSB \u2013 Staatliche Naturwissenschaftliche Sammlungen Bayerns \u2013 SNSB IT Center, M\xfcnchen","ZFMK \u2013 Zoological Research Museum Alexander Koenig \u2013 Leibniz Institute for Animal Biodiversity, Bonn"]),_e(Ce(Ce(o)),"dataCenterOptions",o.dataCenterList.map((function(e,t){return we("option",{},t,e)}))),_e(Ce(Ce(o)),"renderDataCenterSelector",(function(e){var t=e.input,r=e.meta,n=r.touched,i=r.error;return we("div",{className:"form-group"},void 0,a.a.createElement("select",Oe({className:"form-control",disabled:o.props.readOnly},t),o.dataCenterOptions),n&&i&&we("span",{},void 0,i))})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return we("div",{},void 0,Ee,we(d.Field,{name:"data_center",component:this.renderDataCenterSelector,props:{disabled:this.props.readOnly}}))}}])&&Ne(o.prototype,r),n&&Ne(o,n),t}(a.a.PureComponent),Ae=o("c3070e7f848a6dafdfba");function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t,o,r){Pe||(Pe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Pe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return!t||"object"!==Ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue,$e=Re("header",{className:"header header-left form-header-top"},void 0,Re("h2",{className:"section-title"},void 0,"Categories for this submission"),Re("p",{className:"section-subtitle"},void 0,"(optional)")),Ve=Re("label",{className:"custom-control-label",htmlFor:"algaeProtists"},void 0,"Algae & Protists"),ze=Re("label",{className:"custom-control-label",htmlFor:"bacteriologyOrVirology"},void 0,"Bacteriology or Virology"),Ge=Re("label",{className:"custom-control-label",htmlFor:"botany"},void 0,"Botany"),He=Re("label",{className:"custom-control-label",htmlFor:"ecologyEnvironment"},void 0,"Ecology & Environment"),Ye=Re("label",{className:"custom-control-label",htmlFor:"geoscience"},void 0,"Geoscience"),We=Re("label",{className:"custom-control-label",htmlFor:"microbiology"},void 0,"Microbiology"),Ke=Re("label",{className:"custom-control-label",htmlFor:"mycology"},void 0,"Mycology"),qe=Re("label",{className:"custom-control-label",htmlFor:"palaeontology"},void 0,"Palaeontology"),Je=Re("label",{className:"custom-control-label",htmlFor:"zoology"},void 0,"Zoology"),Ze=function(e){function t(){return Fe(this,t),Te(this,Be(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return Re("div",{},void 0,$e,Re("div",{className:"form-row"},void 0,Re("div",{className:"form-group col-md-4"},void 0,Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Algae & Protists"),id:"algaeProtists",component:"input",type:"checkbox",disabled:this.props.readOnly}),Ve),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Bacteriology or Virology"),id:"bacteriologyOrVirology",component:"input",type:"checkbox",disabled:this.props.readOnly}),ze),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Botany"),id:"botany",component:"input",type:"checkbox",disabled:this.props.readOnly}),Ge)),Re("div",{className:"form-group col-md-4"},void 0,Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Ecology & Environment"),id:"ecologyEnvironment",component:"input",type:"checkbox",disabled:this.props.readOnly}),He),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Geoscience"),id:"geoscience",component:"input",type:"checkbox",disabled:this.props.readOnly}),Ye),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Microbiology"),id:"microbiology",component:"input",type:"checkbox",disabled:this.props.readOnly}),We)),Re("div",{className:"form-group col-md-4"},void 0,Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Mycology"),id:"mycology",component:"input",type:"checkbox",disabled:this.props.readOnly}),Ke),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Palaeontology"),id:"palaeontology",component:"input",type:"checkbox",disabled:this.props.readOnly}),qe),Re("div",{className:"custom-control custom-checkbox"},void 0,Re(d.Field,{className:"custom-control-input",name:"".concat(Ae.l,"Zoology"),id:"zoology",component:"input",type:"checkbox",disabled:this.props.readOnly}),Je))))}}])&&Le(o.prototype,r),n&&Le(o,n),t}(a.a.PureComponent),Qe=o("5b74777a838b9a731e07");function Xe(e){return(Xe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,o,r){Ue||(Ue="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Ue,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==Xe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it,st=et("header",{className:"header header-left form-header-top"},void 0,et("h2",{className:"section-title"},void 0,"Leave a comment for the curator"),et("p",{className:"section-subtitle"},void 0,"(optional)")),ct=function(e){function t(){return tt(this,t),rt(this,nt(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return et("div",{},void 0,st,et("div",{className:"form-group"},void 0,et(Qe.Field,{name:"comment",className:"form-control",component:"textarea",rows:"7",disabled:this.props.readOnly,placeholder:"Enter a comment"})))}}])&&ot(o.prototype,r),n&&ot(o,n),t}(a.a.PureComponent),lt=o("d462437c302836d8053b");function ut(e){return(ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t,o,r){it||(it="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:it,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return!t||"object"!==ut(t)&&"function"!==typeof t?ht(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var gt=dt("header",{className:"header header-left form-header-top"},void 0,dt("h2",{className:"section-title"},void 0,"License"),dt("p",{className:"section-subtitle"})),Ot=dt("i",{className:"fa fa-balance-scale"}),wt=dt("p",{className:"align-bottom"},void 0,"change"),jt=function(e){function t(){var e,o;pt(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return yt(ht(ht(o=mt(this,(e=bt(t)).call.apply(e,[this].concat(n))))),"licenseListElements",Object.keys(C).map((function(e){return dt("li",{className:"list-group-item"},e,"OtherLicense"===e?dt("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse show","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense",onClick:function(){return o.props.onClickLicense(C[e].name)}},void 0,C[e].name):dt("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse show","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense",onClick:function(){return o.props.onClickLicense(C[e].name)}},void 0,C[e].name,dt("a",{className:"align-bottom","data-toggle":"modal","data-target":"#".concat(e)},void 0,"details")))}))),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return dt("div",{},void 0,gt,dt(E,{onClickLicense:this.props.onClickLicense}),dt("div",{className:"form-group accordion-form-content"},void 0,dt("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense",disabled:this.props.readOnly},void 0,Ot,this.props.license,wt),dt("div",{className:"collapse",id:"collapseLicense"},void 0,dt("div",{className:"card card-body"},void 0,dt("ul",{className:"list-group"},void 0,this.licenseListElements)))))}}])&&ft(o.prototype,r),n&&ft(o,n),t}(a.a.PureComponent),Nt=Object(s.b)({license:Object(y.n)()});var kt,St=Object(i.connect)(Nt,(function(e){return{onClickLicense:function(t){return e(Object(V.f)(t))}}})),xt=Object(u.a)({key:"submissionForm",reducer:lt.a}),Ct=Object(c.compose)(xt,St)(jt);function _t(e){return(_t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t,o,r){kt||(kt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:kt,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return!t||"object"!==_t(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft,Lt=Pt("header",{className:"header header-left form-header-top"},void 0,Pt("h2",{className:"section-title"},void 0,"Legal Requirements"),Pt("p",{className:"section-subtitle"})),Tt=Pt("label",{className:"custom-control-label",htmlFor:"nagoyaProtocol"},void 0,"Nagoya Protocol"),Bt=Pt("label",{className:"custom-control-label",htmlFor:"iucnList"},void 0,"IUCN Red List of Threatened Species"),Mt=Pt("label",{className:"custom-control-label",htmlFor:"personalInformation"},void 0,"Sensitive Personal Information"),Ut=Pt("label",{className:"custom-control-label",htmlFor:"uncertain"},void 0,"Uncertain"),$t=function(e){function t(){return Et(this,t),At(this,It(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return Pt("div",{},void 0,Lt,Pt("div",{className:"form-group"},void 0,Pt("div",{className:"custom-control custom-checkbox"},void 0,Pt(Qe.Field,{className:"custom-control-input",name:"".concat(Ae.v,"Nagoya Protocol"),id:"nagoyaProtocol",component:"input",type:"checkbox",disabled:this.props.readOnly}),Tt),Pt("div",{className:"custom-control custom-checkbox"},void 0,Pt(Qe.Field,{className:"custom-control-input",name:"".concat(Ae.v,"IUCN Red List of Threatened Species"),id:"iucnList",component:"input",type:"checkbox",disabled:this.props.readOnly}),Bt),Pt("div",{className:"custom-control custom-checkbox"},void 0,Pt(Qe.Field,{className:"custom-control-input",name:"".concat(Ae.v,"Sensitive Personal Information"),id:"personalInformation",component:"input",type:"checkbox",disabled:this.props.readOnly}),Mt),Pt("div",{className:"custom-control custom-checkbox"},void 0,Pt(Qe.Field,{className:"custom-control-input",name:"".concat(Ae.v,"Uncertain"),id:"uncertain",component:"input",type:"checkbox",disabled:this.props.readOnly}),Ut)))}}])&&Dt(o.prototype,r),n&&Dt(o,n),t}(a.a.PureComponent),Vt=o("9276ecdc67a85c47d0d5"),zt=o.n(Vt),Gt=o("ec4402c766c5ab23549f"),Ht=o.n(Gt),Yt=o("5c500cb72abf1a5496ad"),Wt=o.n(Yt),Kt=o("344bb4e1e4c35d33bdc4"),qt=o.n(Kt),Jt=o("ae7a56055b4f6f5a1f0e"),Zt=o.n(Jt),Qt=o("4b35067fbf1d2f545b81"),Xt=o.n(Qt),eo=o("fd6dc3626fd8ada37e2f"),to=o.n(eo),oo=o("2c0897311d3b61e80ea8"),ro=o.n(oo);function no(e){return(no="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t,o,r){Ft||(Ft="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Ft,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function so(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t){return!t||"object"!==no(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po,fo=ao("header",{className:"header header-left form-header-top"},void 0,ao("h2",{className:"section-title metadata-templates"},void 0,"Metadata Templates",ao(ro.a,{placement:"right",overlay:ao(to.a,{id:"tooltip-right",className:"text-left"},void 0,"Using a metadata template is optional, but highly recommended. You can modify the existing templates to your needs.")},void 0,ao("span",{className:"upload-header"},void 0,ao("i",{className:"icon ion-ios-help-circle-outline help align-bottom ml-2","aria-hidden":"true"}))))),mo=ao("h5",{className:"metadata_data_title"},void 0,"Molecular Data Template:"),bo=ao("div",{},void 0,ao("a",{href:"https://gitlab.gwdg.de/gfbio/molecular-submission-templates/-/raw/master/full_template.csv?inline=false",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank",download:"download"},void 0,ao("i",{className:"icon ion-md-download"}),"CSV Template"),ao("a",{href:"https://gitlab.gwdg.de/gfbio/molecular-submission-templates/-/blob/master/Template-Description.md",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,ao("i",{className:"icon ion-md-book"}),"Template Description")),vo=ao("h5",{className:"metadata_data_last_title"},void 0,"Biodiversity, Ecological and Collection Data Template:"),ho=ao("div",{},void 0,ao("a",{href:"https://species-id.net/o/media/1/1d/GFBio_data_submission_template.zip",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,ao("i",{className:"icon ion-md-download"}),"CSV Template"),ao("a",{href:"https://gfbio.biowikifarm.net/wiki/Data_submission_templates_for_biodiversity,_ecological_and_collection_data",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,ao("i",{className:"icon ion-md-book"}),"Template Description")),yo=function(e){function t(){return io(this,t),co(this,lo(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return ao("div",{},void 0,fo,ao("div",{className:"form-group list-group template-links"},void 0,mo,bo,vo,ho))}}])&&so(o.prototype,r),n&&so(o,n),t}(a.a.PureComponent);function go(e){return(go="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t,o,r){po||(po="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:po,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return!t||"object"!==go(t)&&"function"!==typeof t?xo(e):t}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _o=Oo("i",{className:"fa fa-times"}),Po=Oo("i",{className:"fa fa-tags pub"}),Eo=Oo("header",{className:"header header-left form-header-top"},void 0,Oo("h2",{className:"section-title"},void 0,"Labels"),Oo("p",{className:"section-subtitle"},void 0,"(optional)")),Do=function(e){function t(){var e,o;wo(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Co(xo(xo(o=No(this,(e=ko(t)).call.apply(e,[this].concat(n))))),"handleChange",(function(e){o.props.handleChange(e.target.value)})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=this,t=[];void 0!==this.props.dataset_labels&&(t=this.props.dataset_labels);var o=t.map((function(t,o){if(""!==t){var r="list-group-item d-flex justify-content-between align-items-center publication";e.props.readOnly&&(r+=" disabled");var n=e.props.readOnly?"":Oo("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(o)}},void 0,_o,"Remove");return Oo("li",{className:r},o,Oo("span",{},void 0,Po," ",t," "),n)}})),r="btn btn-secondary btn-block btn-light-blue-inverted";return this.props.readOnly&&(r+=" disabled"),Oo("div",{},void 0,Eo,Oo("ul",{className:"list-group list-group-flush"},void 0,o),Oo("div",{className:"form-row"},void 0,Oo("div",{className:"form-group col-md-10"},void 0,Oo("input",{className:"form-control",type:"text",id:"dataSetLabel",value:this.props.currentLabel,placeholder:"Add Labels to your Dataset",onChange:this.handleChange,disabled:this.props.readOnly})),Oo("div",{className:"form-group col-md-2"},void 0,Oo("a",{className:r,onClick:function(t){t.preventDefault(),e.props.handleAdd(e.props.currentLabel)}},void 0,"Add"))))}}])&&jo(o.prototype,r),n&&jo(o,n),t}(a.a.PureComponent),Ao=Object(s.b)({dataset_labels:Object(y.f)(),currentLabel:Object(y.d)()});var Io,Ro=Object(i.connect)(Ao,(function(e){return{handleAdd:function(t){return e(Object(V.a)(t))},handleChange:function(t){return e(Object(V.d)(t))},handleRemove:function(t){return e(Object(V.v)(t))}}})),Fo=Object(c.compose)(Ro)(Do),Lo=function(e){return e&&!/^(?:(?:https?|ftp|sftp|file):\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/i.test(e)?"Invalid Url":void 0};function To(e){return(To="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t,o,r){Io||(Io="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Io,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $o(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return!t||"object"!==To(t)&&"function"!==typeof t?Ho(e):t}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Wo,Ko=Bo("header",{className:"header header-left form-header-top"},void 0,Bo("h2",{className:"section-title"},void 0,"Data URL"),Bo("p",{className:"section-subtitle"},void 0,"(optional)")),qo=function(e){function t(){var e,o;Uo(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Yo(Ho(Ho(o=Vo(this,(e=zo(t)).call.apply(e,[this].concat(n))))),"renderInputField",(function(e){var t=e.input,r=e.placeholder,n=e.type,i=e.meta,s=i.touched,c=i.error,l=i.warning;return Bo("div",{},void 0,Bo("div",{},void 0,a.a.createElement("input",Mo({},t,{placeholder:r,type:n,className:"form-control",disabled:o.props.readOnly})),s&&(c&&Bo("span",{className:"input-error"},void 0,c)||l&&Bo("span",{className:"input-warning"},void 0,l))))})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Go(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return Bo("div",{},void 0,Ko,Bo("div",{className:"form-group"},void 0,Bo(d.Field,{name:"download_url",className:"form-control",component:this.renderInputField,type:"text",placeholder:"Link to your data, e.g. cloud storage",props:{readOnly:this.props.readOnly},validate:Lo})))}}])&&$o(o.prototype,r),n&&$o(o,n),t}(a.a.PureComponent),Jo=o("07d64e89d39e5a791727"),Zo=o.n(Jo),Qo=(o("f85e09def79cc2a20bc2"),o("73da808b1d03ce734ff4")),Xo=o.n(Qo);function er(e){return(er="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t,o,r){Wo||(Wo="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Wo,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return!t||"object"!==er(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sr,cr=function(e){function t(){return or(this,t),nr(this,ar(t).apply(this,arguments))}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return tr("button",{type:"button",className:this.props.cssClassName,onClick:this.props.onClick},void 0,tr("i",{className:this.props.iconClassName}),this.props.text)}}])&&rr(o.prototype,r),n&&rr(o,n),t}(a.a.Component);function lr(e){return(lr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){vr(e,t,o[t])}))}return e}function dr(e,t,o,r){sr||(sr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:sr,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function pr(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var hr=dr("p",{className:"text-center"},void 0,"Your data is already public"),yr=dr("i",{className:"icon ion-md-calendar align-top"}),gr=dr("span",{className:""},void 0,"Change embargo date"),Or=dr("i",{className:"fa fa-calendar-check-o align-top"}),wr=dr("span",{className:""},void 0,"Release tomorrow"),jr=dr("header",{className:"header header-left form-header-top"},void 0,dr("h2",{className:"section-title"},void 0,"Embargo Date"),dr("p",{className:"section-subtitle"})),Nr=dr(Wt.a.Header,{className:"text-center",closeButton:!0},void 0,dr("h4",{},void 0,"Select Embargo Date")),kr=dr(cr,{cssClassName:"btn btn-secondary btn-block btn-light-blue",iconClassName:"fa fa-calendar",text:"Set Embargo"}),Sr=function(e){function t(e){var o,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=fr(t).call(this,e),o=!n||"object"!==lr(n)&&"function"!==typeof n?br(r):n,vr(br(br(o)),"showEmbargoButton",(function(){if(o.props.accessionId&&0!==o.props.accessionId.length){var e=!0;if(o.props.accessionId.forEach((function(t){"PUBLIC"===t.status&&(e=!1)})),!e)return hr}return dr("div",{},void 0,dr("p",{className:"text-center"},void 0,dr("h4",{},void 0,Xo()(o.props.embargoDate,"dd mmmm yyyy"))),dr(f.a,{variant:"link",className:"btn-block btn-link-light-blue embargo-btn",onClick:o.props.openEmbargoDialog},void 0,yr,gr))})),vr(br(br(o)),"showReleaseEmbargoButton",(function(){if(o.props.accessionId&&0===o.props.accessionId.length)return null;if(o.props.accessionId&&0!==o.props.accessionId.length){var e=!0;if(o.props.accessionId.forEach((function(t){"PUBLIC"===t.status&&(e=!1)})),!e)return null;var t=(new Date).setDate((new Date).getDate()+1);return dr(f.a,{variant:"link",className:"btn-block btn-link-light-blue embargo-btn",onClick:function(){o.props.setFormChanged(!0),o.props.setEmbargoDate(t)}},void 0,Or,wr)}return null})),o.state={embargoDate:new Date(o.props.embargoDate),embargoOriginal:new Date(o.props.embargoDate),updated:!1},o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(t,e),o=t,(r=[{key:"componentDidUpdate",value:function(e,t){var o=this;!this.state.updated&&t.embargoDate instanceof Date&&t.embargoDate.setHours(0,0,0,0)!==new Date(this.props.embargoDate).setHours(0,0,0,0)&&this.setState((function(){return{embargoDate:new Date(o.props.embargoDate),embargoOriginal:new Date(o.props.embargoDate),updated:!0}}))}},{key:"render",value:function(){var e=this,t=function(t,o){t?e.setState((function(e){return ur({},e,{embargoDate:t})})):e.setState((function(e){return ur({},e,{embargoDate:new Date((new Date).setMonth((new Date).getMonth()+o))})}))},o=(new Date).setDate((new Date).getDate()+1),r=(new Date).setMonth((new Date).getMonth()+24);return dr("div",{},void 0,jr,this.showEmbargoButton(),this.showReleaseEmbargoButton(),dr(Wt.a,{show:this.props.showEmbargoDialog,onHide:this.props.closeEmbargoDialog,onShow:function(){e.setState((function(t){return ur({},t,{embargoDate:e.props.embargoDate})}))},backdrop:!0,centered:!0},void 0,Nr,dr(Wt.a.Body,{className:"text-center"},void 0,dr(qt.a,{},void 0,dr(Zt.a,{className:"show-grid"},void 0,dr(Xt.a,{},void 0,dr("p",{},void 0,"New Embargo:"," ",dr("b",{},void 0,Xo()(this.state.embargoDate,"dd mmmm yyyy"))))),dr(Zt.a,{className:"show-grid mb-4"},void 0,dr(Xt.a,{xs:12,md:4},void 0,dr(f.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,6)}},void 0,"6 months")),dr(Xt.a,{xs:12,md:4},void 0,dr(f.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,12)}},void 0,"12 months")),dr(Xt.a,{xs:12,md:4},void 0,dr(f.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,18)}},void 0,"18 months"))),dr(Zt.a,{className:"show-grid"},void 0,dr(Xt.a,{xs:12,md:12,className:"embargo-picker"},void 0,dr(Zo.a,{customInput:kr,inline:!0,selected:this.state.embargoDate,onChange:t,dateFormat:"MMMM d, yyyy",maxDate:r,minDate:o}))))),dr(Wt.a.Footer,{className:"embargo-footer"},void 0,dr(qt.a,{},void 0,dr(Zt.a,{className:"show-grid"},void 0,dr(Xt.a,{xs:6,md:6},void 0,dr(f.a,{variant:"secondary",className:"btn-sm btn-block btn-green-inverted",onClick:function(){e.state.embargoOriginal.setHours(0,0,0,0)===e.state.embargoDate.setHours(0,0,0,0)?e.props.setFormChanged(!1):e.props.setFormChanged(!0),e.props.setEmbargoDate(e.state.embargoDate),e.props.closeEmbargoDialog()}},void 0,"Accept")),dr(Xt.a,{xs:6,md:6},void 0,dr(f.a,{variant:"secondary",className:"btn-sm btn-block btn-red-inverted",onClick:this.props.closeEmbargoDialog},void 0,"Cancel")))))))}}])&&pr(o.prototype,r),n&&pr(o,n),t}(a.a.Component),xr=Object(s.b)({embargoDate:Object(y.g)(),showEmbargoDialog:Object(y.v)()});var Cr,_r=Object(i.connect)(xr,(function(e){return{setFormChanged:function(t){return e(Object(V.E)(t))},setEmbargoDate:function(t){return e(Object(V.D)(t))},openEmbargoDialog:function(){return e(Object(V.J)())},closeEmbargoDialog:function(){return e(Object(V.g)())}}})),Pr=Object(c.compose)(_r)(Sr);function Er(e){return(Er="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t,o,r){Cr||(Cr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Cr,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return!t||"object"!==Er(t)&&"function"!==typeof t?Tr(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Mr=Dr("i",{className:"fa fa-times"}),Ur=Dr("i",{className:"icon ion-md-paper pub"}),$r=Dr("header",{className:"header header-left form-header-top"},void 0,Dr("h2",{className:"section-title"},void 0,"Related Publications "),Dr("p",{className:"section-subtitle"},void 0,"(optional)")),Vr=function(e){function t(){var e,o;Ar(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Br(Tr(Tr(o=Rr(this,(e=Fr(t)).call.apply(e,[this].concat(n))))),"handleChange",(function(e){o.props.handleChange(e.target.value)})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=this,t=[];void 0!==this.props.relatedPublications&&(t=this.props.relatedPublications);var o=t.map((function(t,o){if(""!==t){var r="list-group-item d-flex justify-content-between align-items-center publication";e.props.readOnly&&(r+=" disabled");var n=e.props.readOnly?"":Dr("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(o)}},void 0,Mr,"Remove");return Dr("li",{className:r},o,Dr("span",{},void 0,Ur," ",t),n)}})),r="btn btn-secondary btn-block btn-light-blue-inverted";return this.props.readOnly&&(r+=" disabled"),Dr("div",{},void 0,$r,Dr("ul",{className:"list-group list-group-flush"},void 0,o),Dr("div",{className:"form-row"},void 0,Dr("div",{className:"form-group col-md-10"},void 0,Dr("input",{className:"form-control",type:"text",id:"relatedPublication",value:this.props.currentRelatedPublication,placeholder:"Enter a full citation or a DOI",onChange:this.handleChange,disabled:this.props.readOnly})),Dr("div",{className:"form-group col-md-2"},void 0,Dr("a",{className:r,onClick:function(t){t.preventDefault(),e.props.handleAdd(e.props.currentRelatedPublication)}},void 0,"Add"))))}}])&&Ir(o.prototype,r),n&&Ir(o,n),t}(a.a.PureComponent),zr=Object(s.b)({relatedPublications:Object(y.s)(),currentRelatedPublication:Object(y.e)()});var Gr,Hr=Object(i.connect)(zr,(function(e){return{handleAdd:function(t){return e(Object(V.c)(t))},handleChange:function(t){return e(Object(V.e)(t))},handleRemove:function(t){return e(Object(V.x)(t))}}})),Yr=Object(c.compose)(Hr)(Vr),Wr=o("b912ecc4473ae8a2ff0b"),Kr=o.n(Wr),qr=o("23b8d02be40765ac53e3"),Jr=o.n(qr),Zr=o("875df5ab4dee6c9a40ff"),Qr=o.n(Zr);function Xr(e){return(Xr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,o,r){Gr||(Gr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Gr,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function tn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var an=en("i",{className:"icon ion-md-document pub"}),sn=en("i",{className:"fa fa-trash","aria-hidden":"true"}),cn=en("i",{className:"icon ion-md-document pub"}),ln=en("span",{className:"pr-4 mr-3"}),un=en("i",{className:"fa fa-trash","aria-hidden":"true"}),dn=en("li",{className:"list-group-item file-upload mb-3"},void 0,en(ro.a,{placement:"right",overlay:en(to.a,{id:"tooltip-right"},void 0,"select the primary metadata file, e.g. metadata template")},void 0,en("span",{className:"upload-header"},void 0,"Metadata",en("i",{className:"icon ion-ios-help-circle-outline help align-bottom","aria-hidden":"true"})))),pn=function(e){function t(e){var o,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(o=!(n=on(t).call(this,e))||"object"!==Xr(n)&&"function"!==typeof n?nn(r):n).handleMetadataSelect=o.handleMetadataSelect.bind(nn(nn(o))),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,e),o=t,(r=[{key:"handleMetadataSelect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.target.value.indexOf("uploaded_")>-1?this.props.changeMetaDataOnServer(e.target.value,t):this.props.changeMetaDataIndex(e.target.value)}},{key:"createUploadedListElements",value:function(){var e=this;return this.props.fileUploadsFromServer.map((function(t,o){var r=en("small",{className:"file-name"},void 0,en("input",{type:"checkbox",id:"primaryUploaded".concat(o),value:"uploaded_".concat(o),onChange:function(o){e.handleMetadataSelect(o,t)},checked:t.meta_data}),en("label",{htmlFor:"primaryUploaded".concat(o),className:"metadata"}),an,t.file_name);return en("li",{className:"list-group-item file-upload success"},o,en("div",{className:"d-flex justify-content-between align-items-center"},void 0,en("div",{},void 0,r),en("div",{},void 0,en("small",{className:"mr-5 file-size"},void 0,Qr()(t.file_size)),en("button",{className:"btn btn-remove",onClick:function(o){o.preventDefault(),e.props.deleteFile(t.pk)}},void 0,sn))))}))}},{key:"createScheduledUploadListElements",value:function(){var e=this;return this.props.fileUploads.map((function(t,o){var r={width:"".concat(t.progress,"%")},n=en("small",{className:"file-name"},void 0,en("input",{type:"checkbox",id:"primary".concat(o),value:o,onChange:e.handleMetadataSelect,checked:t.metaData}),en("label",{htmlFor:"primary".concat(o),className:"metadata"}),cn,t.file.name);return en("li",{className:"list-group-item file-upload "+t.status},o,en("div",{className:"d-flex justify-content-between align-items-center"},void 0,en("div",{},void 0,n),en("div",{},void 0,en("small",{className:"mr-5 file-size"},void 0,Qr()(t.file.size)),ln,en("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(o)}},void 0,un))),en("div",{className:"progress"},void 0,en("div",{className:"progress-bar",role:"progressbar",style:r,"aria-valuenow":"".concat(t.progress),"aria-valuemin":"0","aria-valuemax":"100"})))}))}},{key:"render",value:function(){var e=this.createUploadedListElements(),t=this.createScheduledUploadListElements(),o=null;return(t.size>0||this.props.fileUploadsFromServer.length>0)&&(o=dn),en("ul",{className:"list-group list-group-flush"},void 0,o,e,t)}}])&&tn(o.prototype,r),n&&tn(o,n),t}(a.a.Component),fn=Object(s.b)({fileUploads:Object(y.h)(),fileUploadsFromServer:Object(y.i)(),metaDataIndex:Object(y.p)()});var mn,bn=Object(i.connect)(fn,(function(e){return{handleRemove:function(t){return e(Object(V.w)(t))},changeMetaDataIndex:function(t){return e(Object(V.G)(t))},changeMetaDataOnServer:function(t,o){return e(Object(V.H)(t,o))},deleteFile:function(t){return e(Object(V.k)(t))}}})),vn=Object(c.compose)(bn)(pn),hn=o("987f407fc383a6eedc35"),yn=o.n(hn),gn=o("0f92590f552ab9dc25d2");function On(e,t,o,r){mn||(mn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:mn,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var wn=On("div",{className:"alert-heading h4"},void 0,On("i",{className:"fa  fa-bolt"})," Upload limit exceeded"),jn=On("p",{},void 0,"If you need to a upload more than 20 files, or more than 200 MB, either provide a URL in the field below, or leave a comment for the curator at the bottom.");var Nn,kn=function(e,t){return On(b.a,{in:e},void 0,On("div",{className:"form-group col-md-12"},void 0,On("div",{role:"alert",className:"fade alert alert-light show"},void 0,wn,jn)))};function Sn(e){return(Sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t,o,r){Nn||(Nn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Nn,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return!t||"object"!==Sn(t)&&"function"!==typeof t?In(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Fn=xn("p",{},void 0,"No uploads allowed on ",xn("b",{},void 0,"CLOSED")," submission"),Ln=xn("p",{},void 0,"Try ",xn("b",{},void 0,"dropping")," some files here, or ",xn("b",{},void 0,"click")," to select files to upload."),Tn=xn("header",{className:"header header-left form-header-top"},void 0,xn("h2",{className:"section-title"},void 0,"Upload Data"),xn("p",{className:"section-subtitle"},void 0,"(optional)")),Bn=xn(vn,{}),Mn=xn("p",{},void 0,"Drop files here..."),Un=function(e){function t(){var e,o;_n(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Rn(In(In(o=En(this,(e=Dn(t)).call.apply(e,[this].concat(n))))),"matchingUploadLimit",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,r=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;t+=c.size}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}var l=0,u=!0,d=!1,p=void 0;try{for(var f,m=o.props.fileUploads[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var b=f.value;l+=b.file.size}}catch(e){d=!0,p=e}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}var v=0,h=!0,y=!1,g=void 0;try{for(var O,w=o.props.fileUploadsFromServer[Symbol.iterator]();!(h=(O=w.next()).done);h=!0){var j=O.value;v+=j.file_size}}catch(e){y=!0,g=e}finally{try{h||null==w.return||w.return()}finally{if(y)throw g}}var N=0;return void 0!==o.props.fileUploadsFromServer.length&&(N=o.props.fileUploadsFromServer.length),t+l+v<=gn.d&&e.length+o.props.fileUploads.size+N<=gn.e?(o.props.dismissShowUploadLimit(),!0):(o.props.showUploadLimit(),!1)})),Rn(In(In(o)),"onDrop",(function(e,t){if(!o.props.readOnly){var r=[],n=!0,a=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;r.push({id:yn.a.generate(),progress:0,file:l,status:"pending",metaData:!1,messages:{}})}}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}o.props.handleDrop(r)}})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=this;this.matchingUploadLimit();var t=kn(this.props.showUploadLimitMessage,this.props.dismissShowUploadLimit);return xn("div",{},void 0,Tn,Bn,t,xn("div",{className:this.props.readOnly?"form-group disabled":"form-group"},void 0,xn(Jr.a,{onDrop:this.onDrop,multiple:!0,disabled:this.props.readOnly},void 0,(function(t){var o=t.getRootProps,r=t.getInputProps,n=t.isDragActive;return a.a.createElement("div",Cn({},o(),{className:Kr()("dropzone",{"dropzone--isActive":n})}),a.a.createElement("input",r()),n?Mn:e.props.readOnly?Fn:Ln)}))))}}])&&Pn(o.prototype,r),n&&Pn(o,n),t}(a.a.PureComponent),$n=Object(s.b)({fileUploads:Object(y.h)(),showUploadLimitMessage:Object(y.z)(),fileUploadsFromServer:Object(y.i)()});var Vn,zn,Gn=Object(i.connect)($n,(function(e){return{handleDrop:function(t){return e(Object(V.b)(t))},showUploadLimit:function(){return e(Object(V.K)())},dismissShowUploadLimit:function(){return e(Object(V.n)())}}})),Hn=Object(c.compose)(Gn)(Un),Yn=function(e){return e||"number"===typeof e?void 0:"This field is required"};Vn=2;function Wn(e){return(Wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t,o,r){zn||(zn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:zn,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return!t||"object"!==Wn(t)&&"function"!==typeof t?ta(e):t}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ra,na=Kn("header",{className:"header header-left form-header-top"},void 0,Kn("h2",{className:"section-title"},void 0,"Title"),Kn("p",{className:"section-subtitle"})),aa=Kn("header",{className:"header header-left form-header-top"},void 0,Kn("h2",{className:"section-title"},void 0,"Description"),Kn("p",{className:"section-subtitle"})),ia=function(e){function t(){var e,o;Jn(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return oa(ta(ta(o=Qn(this,(e=Xn(t)).call.apply(e,[this].concat(n))))),"renderInputField",(function(e){var t=e.input,r=e.placeholder,n=e.type,i=e.meta,s=i.touched,c=i.error,l=i.warning;return Kn("div",{},void 0,Kn("div",{},void 0,a.a.createElement("input",qn({},t,{placeholder:r,type:n,disabled:o.props.readOnly,className:"form-control"})),s&&(c&&Kn("span",{className:"input-error"},void 0,c)||l&&Kn("span",{className:"input-warning"},void 0,l))))})),oa(ta(ta(o)),"renderTextAreaField",(function(e){var t=e.input,r=e.placeholder,n=e.type,i=e.rows,s=e.meta,c=s.touched,l=s.error,u=s.warning;return Kn("div",{},void 0,Kn("div",{},void 0,a.a.createElement("textarea",qn({},t,{placeholder:r,type:n,rows:i,disabled:o.props.readOnly,className:"form-control"})),c&&(l&&Kn("span",{className:"input-error"},void 0,l)||u&&Kn("span",{className:"input-warning"},void 0,u))))})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){return Kn("div",{},void 0,na,Kn("div",{className:"form-group"},void 0,Kn(d.Field,{name:"title",className:"form-control",component:this.renderInputField,props:{readOnly:this.props.readOnly},type:"text",placeholder:"Enter a title for your dataset",validate:Yn})),aa,Kn("div",{className:"form-group"},void 0,Kn(d.Field,{name:"description",className:"form-control",component:this.renderTextAreaField,props:{readOnly:this.props.readOnly},rows:"7",placeholder:"Describe your dataset",validate:Yn})),Kn(Hn,{readOnly:this.props.readOnly}))}}])&&Zn(o.prototype,r),n&&Zn(o,n),t}(a.a.PureComponent);function sa(e,t,o,r){ra||(ra="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:ra,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ca=sa("i",{className:"fa fa-bookmark-o","aria-hidden":"true"}),la=sa("br",{}),ua=sa("div",{},void 0,sa("i",{className:"fa fa-archive","aria-hidden":"true"}),"ENA Accession:",sa("br",{})),da=sa("i",{className:"fa fa-tags","aria-hidden":"true"}),pa=sa("br",{}),fa=sa("a",{},void 0,sa("i",{className:"fa fa-info-circle","aria-hidden":"true"}),"Status: ",sa("br",{}),sa("div",{className:"bsi"},void 0,"Your data was already archived and only the embargo date can be changed. If you need to make other changes, please contact our team by replying to the corresponding Helpdesk ticket.")),ma=sa("i",{className:"fa fa-comments","aria-hidden":"true"}),ba=sa("header",{className:"header header-left form-header-top"},void 0,sa("h2",{className:"section-title"},void 0,"Info"),sa("p",{className:"section-subtitle"}));var va,ha=function(e){var t=[],o="mailto:info@gfbio.org?subject=Help with Submission ".concat(e.brokerSubmissionId,"&body=Dear GFBio Team,");return e.brokerSubmissionId.length>0&&t.push([sa("li",{className:"list-group-item"},void 0,sa("a",{},void 0,ca,"Submission Id: ",la,sa("div",{className:"bsi"},void 0,e.brokerSubmissionId)))]),e.accessionId&&e.accessionId.length>0&&(t.push(ua),e.accessionId.forEach((function(e){t.push(sa("li",{className:"list-group-item"},void 0,sa("a",{},void 0,sa("div",{className:"bsi"},void 0,sa("span",{style:{fontWeight:600}},void 0,"ID"),": ",e.pid),sa("div",{className:"bsi",style:{marginTop:0}},void 0,sa("span",{style:{fontWeight:600}},void 0,"Status"),":"," ",e.status))))}))),e.issue.length>0&&t.push(sa("li",{className:"list-group-item"},void 0,sa("a",{target:"_blank",rel:"noopener noreferrer",className:"external",href:gn.c+e.issue},void 0,da,"Ticket:",pa,sa("div",{className:"bsi"},void 0,e.issue)))),e.readOnly&&t.push(sa("li",{className:"list-group-item"},void 0,fa)),t.push(sa("li",{className:"list-group-item"},void 0,sa("a",{href:o,className:"external"},void 0,ma,"Do you need Help ?"))),sa("div",{className:""},void 0,ba,sa("div",{className:"submission-info"},void 0,sa("ul",{className:"list-group list-group-flush"},void 0,t)))};function ya(e){return(ya="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){_a(e,t,o[t])}))}return e}function Oa(e,t,o,r){va||(va="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:va,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function wa(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Na(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return!t||"object"!==ya(t)&&"function"!==typeof t?Ca(e):t}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Pa=Oa("i",{className:"ti-layout-line-solid icon "}),Ea=Oa("i",{className:"ti-arrow-right icon pl-1"}),Da=Oa(zt.a.Heading,{},void 0,Oa("i",{className:"fa  fa-bolt"})," There are some validation errors"),Aa=Oa("li",{className:"list-group-item"},void 0,Oa("span",{className:"validation-error-item"},void 0,"Once all errors are resolved, try to submit again.")),Ia=Oa(Wt.a.Header,{closeButton:!0},void 0,Oa(Wt.a.Title,{className:"pl-4"},void 0,"Leave this section ?")),Ra=Oa(Wt.a.Body,{},void 0,Oa(qt.a,{},void 0,Oa(Zt.a,{className:"show-grid text-center"},void 0,Oa(Xt.a,{xs:12,md:12},void 0,"Are you sure leaving this form ? Press 'Cancel' to stay or press 'Save' to save changes before leaving. Press 'Discard' to leave with out saving.")))),Fa=Oa("i",{className:"icon ion-md-close"}),La=Oa("i",{className:"icon ion-ios-save"}),Ta=Oa("i",{className:"icon ion-md-alert"}),Ba=Oa(yo,{}),Ma=function(e){function t(){var e,o;ja(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _a(Ca(Ca(o=ka(this,(e=Sa(t)).call.apply(e,[this].concat(n))))),"getSyncErrors",(function(){if(void 0!==o.props.reduxFormWrapper)return o.props.reduxFormWrapper.syncErrors})),_a(Ca(Ca(o)),"getFields",(function(){if(void 0!==o.props.reduxFormWrapper)return o.props.reduxFormWrapper.fields})),_a(Ca(Ca(o)),"getMutualErrorMessages",(function(){var e={},t=o.getSyncErrors(),r={},n=o.getFields(),a=new Set,i=new Set;void 0!==t&&void 0!==n&&(e=t,r=n,a=new Set(Object.keys(e)),i=new Set(Object.keys(r)));var s=new Set(wa(a).filter((function(e){return i.has(e)})));return o.props.generalError&&(e["General Form Error"]="Please check the form for dedicated error messages",s.add("General Form Error")),[s,e]})),_a(Ca(Ca(o)),"prepareErrorNotification",(function(){var e=o.getMutualErrorMessages(),t=e[0],r=e[1],n=wa(t).map((function(e,t){var o=e.charAt(0).toUpperCase()+e.slice(1);return Oa("li",{className:"list-group-item"},t,Oa("span",{className:"validation-error-item"},void 0,Pa,o,Ea,r[e]))}));return Object.keys(r).length<=0?null:Oa(zt.a,{variant:"light"},void 0,Da,Oa("ul",{className:"list-group list-group-flush"},void 0,n,Aa))})),_a(Ca(Ca(o)),"renderNavigationPrompt",(function(){return!1===o.props.pristine&&o.props.promptOnLeave||o.props.formChanged?Oa(Ht.a,{when:!0},void 0,(function(e){var t=e.onConfirm,r=e.onCancel;return Oa(Wt.a,{show:!0,onHide:r,backdrop:!0,centered:!0},void 0,Ia,Ra,Oa(Wt.a.Footer,{},void 0,Oa(qt.a,{},void 0,Oa(Zt.a,{className:"show-grid"},void 0,Oa(Xt.a,{xs:12,md:4},void 0,Oa(f.a,{variant:"secondary",className:"btn-block btn-sm green",onClick:r},void 0,Fa,"Cancel")),Oa(Xt.a,{xs:12,md:4,className:"text-right"},void 0,Oa(f.a,{variant:"secondary",className:"btn-block btn-sm btn-light-blue",onClick:o.props.handleSubmit((function(e){return o.props.onSubmit(ga({},e,{workflow:"save"}))}))},void 0,La,"Save")),Oa(Xt.a,{xs:12,md:4,className:"text-right"},void 0,Oa(f.a,{variant:"secondary",className:"btn-block btn-sm red",onClick:function(e){e.preventDefault(),o.props.setFormChanged(!1),o.props.reset(),t()}},void 0,Ta,"Discard"))))))})):null})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(t,e),o=t,(r=[{key:"render",value:function(){var e=this,t="fa-play",o="Start Submission";""!==this.props.brokerSubmissionId&&(o="Update Submission",t="fa fa-forward"),this.props.isClosed&&(o="Update Embargo",t="fa fa-forward"),this.props.submitInProgress&&(t="fa-cog fa-spin fa-fw",o="submitting ..."),this.props.saveInProgress;var r=this.prepareErrorNotification();return Oa("form",{name:"wrapping-form",className:"pagewide-form",onSubmit:function(e){e.preventDefault()}},void 0,Oa("div",{className:"container"},void 0,Oa("div",{className:"row"},void 0,Oa("div",{className:"col-md-9 form-col"},void 0,this.renderNavigationPrompt(),Oa(ia,{readOnly:this.props.isClosed}),Oa(qo,{readOnly:this.props.isClosed}),Oa(ye,{readOnly:this.props.isClosed}),Oa(De,{readOnly:this.props.isClosed}),Oa(Ze,{readOnly:this.props.isClosed}),Oa(Fo,{readOnly:this.props.isClosed}),Oa(Yr,{readOnly:this.props.isClosed}),Oa(ct,{readOnly:this.props.isClosed})),Oa("div",{className:"col-md-3 sidebar-col"},void 0,Oa(ha,{brokerSubmissionId:this.props.brokerSubmissionId,accessionId:this.props.accessionId,readOnly:this.props.isClosed,issue:this.props.issue}),Oa(Ct,{readOnly:this.props.isClosed}),Oa($t,{readOnly:this.props.isClosed}),Ba,Oa(Pr,{accessionId:this.props.accessionId}))),Oa("div",{className:"row"},void 0,Oa("div",{className:"col-md-9 form-footer"},void 0,Oa("div",{className:"form-row"},void 0,Oa("div",{className:"form-group col-md-12"},void 0,r)),Oa("div",{className:"form-row"},void 0,Oa("div",{className:"form-group col-md-12"},void 0,this.props.saveSuccessMessage,this.props.submitErrorMessage)),Oa("div",{className:"form-row mt-5"},void 0,Oa("div",{className:"form-group col-md-12"},void 0,Oa("button",{type:"submit",className:"btn btn-secondary btn-block green",onClick:this.props.handleSubmit((function(t){return e.props.onSubmit(ga({},t,{workflow:"submit"}))}))},void 0,Oa("i",{className:"fa ".concat(t)}),o)))),Oa("div",{className:"col-md-3"}))))}}])&&Na(o.prototype,r),n&&Na(o,n),t}(a.a.PureComponent),Ua=Object(s.b)({formChanged:Object(y.j)()});Ma=Object(i.connect)(Ua,(function(e){return{setFormChanged:function(t){return e(Object(V.E)(t))},reset:function(){return e(Object(V.y)())}}}))(Ma);var $a=Ma=Object(d.reduxForm)({form:"formWrapper",enableReinitialize:!0})(Ma),Va=o("4d8f39295aa1776ae435"),za=o.n(Va),Ga=o("97925be2959ab7c6c8ab"),Ha=o("bd183afcc37eabd79225"),Ya=o.n(Ha),Wa=o("7719267b28dd5a765e23"),Ka=function(e,t){return Ya.a.create({baseURL:gn.a+gn.g,headers:{Authorization:"Token "+e,"Content-Type":"application/json"}}).post("",t)},qa=function(e,t,o){var r={headers:{Authorization:"Token "+e,"Content-Type":"application/json"}};return Ya.a.put("".concat(gn.a+gn.g+t,"/"),o,r)},Ja=function(e,t){var o={headers:{Authorization:"Token "+e}};return Ya.a.get("".concat(gn.a+gn.g+t,"/"),o)},Za=function(e,t,o){var r=Ya.a.create({baseURL:gn.a+gn.g+t+gn.b,headers:{Authorization:"Token "+e,"Content-Type":"application/json"}}),n=new FormData;return n.append("comment",o),r.post("",n)},Qa=function(e,t){var o={headers:{Authorization:"Token "+e}};return Ya.a.get("".concat(gn.a+gn.g+t+gn.i),o)},Xa=function(e,t,o){var r={headers:{Authorization:"Token "+e}};return Ya.a.delete("".concat(gn.a+gn.g+t+gn.h+o),r)},ei=function(e,t,o,r){var n=new FormData;n.append("meta_data",o),n.append("attach_to_ticket",!1);var a={headers:{Authorization:"Token "+r}},i="".concat(gn.a+gn.g+e+gn.h+gn.j+t+"/");return Ya.a.patch(i,n,a)};function ti(e,t,o,r,n){return Object(Wa.eventChannel)((function(a){var i=new FormData;i.append("file",t),i.append("attach_to_ticket",o),i.append("meta_data",r);var s={headers:{Authorization:"Token "+n},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a(t)}};Ya.a.post(gn.a+gn.g+e+gn.h,i,s).then((function(){a(Wa.END)})).catch((function(e){a(new Error(e.message)),a(Wa.END)}));return function(){}}))}var oi,ri=o("accfe20dac886d57b695"),ni=regeneratorRuntime.mark(Ci),ai=regeneratorRuntime.mark(_i),ii=regeneratorRuntime.mark(Pi),si=regeneratorRuntime.mark(Ei),ci=regeneratorRuntime.mark(Di),li=regeneratorRuntime.mark(Ai),ui=regeneratorRuntime.mark(Ii),di=regeneratorRuntime.mark(Ri),pi=regeneratorRuntime.mark(Fi),fi=regeneratorRuntime.mark(Li),mi=regeneratorRuntime.mark(Ti),bi=regeneratorRuntime.mark(Bi),vi=regeneratorRuntime.mark(Mi),hi=regeneratorRuntime.mark(Ui),yi=regeneratorRuntime.mark($i),gi=regeneratorRuntime.mark(Vi),Oi=regeneratorRuntime.mark(zi),wi=regeneratorRuntime.mark(Gi),ji=regeneratorRuntime.mark(Hi),Ni=regeneratorRuntime.mark(Yi),ki=regeneratorRuntime.mark(Wi),Si=regeneratorRuntime.mark(Ki),xi=regeneratorRuntime.mark(qi);function Ci(e){var t,o,r,n,a,i,s,c,l,u,d,p,f,m,b,v,h=arguments;return regeneratorRuntime.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=!(h.length>1&&void 0!==h[1])||h[1],g.next=3,Object(Ga.select)(Object(y.k)());case 3:for(c in o=g.sent,r=o.formWrapper||{},n=r.values||{},a=n.comment||"",delete n.comment,i=[],s=[],n)c.includes("legal-requirement")&&(!0===n[c]&&i.push(c.replace("legal-requirement ","")),delete n[c]),c.includes("data-category")&&(!0===n[c]&&s.push(c.replace("data-category ","")),delete n[c]);return g.next=13,Object(Ga.select)(Object(y.n)());case 13:return l=g.sent,g.next=16,Object(Ga.select)(Object(y.s)());case 16:return u=g.sent,g.next=19,Object(Ga.select)(Object(y.f)());case 19:return d=g.sent,g.next=22,Object(Ga.select)(Object(y.c)());case 22:return p=g.sent,g.next=25,Object(Ga.select)(Object(y.g)());case 25:return f=g.sent,m=Xo()(f,"yyyy-mm-dd"),b=Object.assign({license:l,legal_requirements:i,related_publications:u,dataset_labels:d,categories:s,contributors:p},n),v={target:"GENERIC",release:t,submitting_user:e,download_url:n.download_url,embargo:m,data:{requirements:b}},g.abrupt("return",{payload:v,comment:a});case 30:case"end":return g.stop()}}),ni,this)}function _i(e,t){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,Object(Ga.take)(e);case 4:return o=r.sent,r.next=7,Object(Ga.put)(Object(V.U)(t,o));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(Ga.put)(Object(V.T)(t,r.t0));case 13:return r.prev=13,r.next=16,Object(Ga.put)(Object(V.V)(t));case 16:return r.next=18,Object(Ga.cancelled)();case 18:if(!r.sent){r.next=20;break}e.close();case 20:return r.finish(13);case 21:r.next=0;break;case 23:case"end":return r.stop()}}),ai,this,[[1,9,13,21]])}function Pi(e,t,o,r){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ga.call)(ti,t,o.file,!0,o.metaData,e);case 3:return n=a.sent,a.next=6,Object(Ga.fork)(_i,n,r);case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(Ga.put)(Object(V.T)(r,a.t0));case 12:case"end":return a.stop()}}),ii,this,[[0,8]])}function Ei(e){var t,o,r,n,a,i,s,c,l;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Ga.select)(Object(y.h)());case 2:return t=u.sent,u.next=5,Object(Ga.select)(Object(y.E)());case 5:o=u.sent,r=0,n=!0,a=!1,i=void 0,u.prev=10,s=t[Symbol.iterator]();case 12:if(n=(c=s.next()).done){u.next=20;break}return l=c.value,u.next=16,Object(Ga.call)(Pi,o,e,l,r);case 16:r++;case 17:n=!0,u.next=12;break;case 20:u.next=26;break;case 22:u.prev=22,u.t0=u.catch(10),a=!0,i=u.t0;case 26:u.prev=26,u.prev=27,n||null==s.return||s.return();case 29:if(u.prev=29,!a){u.next=32;break}throw i;case 32:return u.finish(29);case 33:return u.finish(26);case 34:return u.next=36,Object(Ga.put)(Object(V.W)({}));case 36:case"end":return u.stop()}}),si,this,[[10,22,26,34],[27,,29,33]])}function Di(e,t){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ga.select)(Object(y.E)());case 2:if(o=n.sent,""===t){n.next=16;break}return n.prev=4,n.next=7,Object(Ga.call)(Za,o,e,t);case 7:return r=n.sent,n.next=10,Object(Ga.put)(Object(V.u)(r));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(4),n.next=16,Object(Ga.put)(Object(V.t)(n.t0));case 16:case"end":return n.stop()}}),ci,this,[[4,12]])}function Ai(){var e,t,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ga.select)(Object(y.b)());case 2:if(""===n.sent){n.next=8;break}return n.next=6,Object(Ga.put)(Object(V.P)(!0));case 6:n.next=35;break;case 8:return n.next=10,Object(Ga.select)(Object(y.E)());case 10:return e=n.sent,n.next=13,Object(Ga.select)(Object(y.G)());case 13:return t=n.sent,n.next=16,Ci(t,!0);case 16:return o=n.sent,n.prev=17,n.next=20,Object(Ga.call)(Ka,e,o.payload);case 20:return r=n.sent,n.next=23,Object(Ga.call)(Ei,r.data.broker_submission_id);case 23:return n.next=25,Object(Ga.call)(Di,r.data.broker_submission_id,o.comment);case 25:return n.next=27,Object(Ga.put)(Object(V.O)(r));case 27:return n.next=29,Object(Ga.put)(Object(ri.push)("/list"));case 29:n.next=35;break;case 31:return n.prev=31,n.t0=n.catch(17),n.next=35,Object(Ga.put)(Object(V.M)(n.t0));case 35:case"end":return n.stop()}}),li,this,[[17,31]])}function Ii(){var e,t,o,r,n,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ga.select)(Object(y.b)());case 2:if(e=i.sent,t="no_brokersubmission_id",""===e){i.next=9;break}return i.next=7,Object(Ga.put)(Object(V.P)(!1));case 7:i.next=37;break;case 9:return i.next=11,Object(Ga.select)(Object(y.E)());case 11:return o=i.sent,i.next=14,Object(Ga.select)(Object(y.G)());case 14:return r=i.sent,i.next=17,Ci(r,!1);case 17:return n=i.sent,i.prev=18,i.next=21,Object(Ga.call)(Ka,o,n.payload);case 21:return a=i.sent,t=a.data.broker_submission_id,i.next=25,Object(Ga.call)(Ei,t);case 25:return i.next=27,Object(Ga.call)(Di,t,n.comment);case 27:return i.next=29,Object(Ga.put)(Object(V.B)(a));case 29:return i.next=31,Object(Ga.put)(Object(ri.push)("/list"));case 31:i.next=37;break;case 33:return i.prev=33,i.t0=i.catch(18),i.next=37,Object(Ga.put)(Object(V.A)(i.t0));case 37:case"end":return i.stop()}}),ui,this,[[18,33]])}function Ri(){var e,t,o,r,n,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ga.select)(Object(y.b)());case 2:return e=i.sent,i.next=5,Object(Ga.select)(Object(y.E)());case 5:return t=i.sent,i.next=8,Object(Ga.select)(Object(y.G)());case 8:return o=i.sent,i.next=11,Object(Ga.select)(Object(y.F)());case 11:return r=i.sent,i.next=14,Ci(o,r);case 14:return n=i.sent,i.prev=15,i.next=18,Object(Ga.call)(qa,t,e,n.payload);case 18:return a=i.sent,i.next=21,Object(Ga.call)(Ei,e);case 21:return i.next=23,Object(Ga.call)(Di,e,n.comment);case 23:if(!r){i.next=30;break}return i.next=26,Object(Ga.put)(Object(V.S)(a));case 26:return i.next=28,Object(Ga.put)(Object(ri.push)("/list"));case 28:i.next=34;break;case 30:return i.next=32,Object(Ga.put)(Object(V.R)(a));case 32:return i.next=34,Object(Ga.put)(Object(ri.push)("/list"));case 34:i.next=40;break;case 36:return i.prev=36,i.t0=i.catch(15),i.next=40,Object(Ga.put)(Object(V.Q)(i.t0));case 40:case"end":return i.stop()}}),di,this,[[15,36]])}function Fi(){var e,t;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Ga.select)(Object(y.l)());case 2:return e=o.sent,o.next=5,Object(Ga.select)(Object(y.r)());case 5:if(t=o.sent,!e){o.next=11;break}return o.next=9,Object(Ga.put)(Object(V.M)());case 9:o.next=19;break;case 11:if("save"!==t.workflow){o.next=16;break}return o.next=14,Object(Ga.put)(Object(V.z)());case 14:o.next=19;break;case 16:if("submit"!==t.workflow){o.next=19;break}return o.next=19,Object(Ga.put)(Object(V.N)());case 19:case"end":return o.stop()}}),pi,this)}function Li(){var e,t,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ga.select)(Object(y.E)());case 2:return e=n.sent,n.next=5,Object(Ga.select)(Object(y.t)());case 5:return t=n.sent,n.prev=6,n.next=9,Object(Ga.call)(Ja,e,t);case 9:return o=n.sent,n.next=12,Object(Ga.put)(Object(V.s)(o));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(6),n.next=18,Object(Ga.put)(Object(V.r)(n.t0));case 18:return n.prev=18,n.next=21,Object(Ga.call)(Qa,e,t);case 21:return r=n.sent,n.next=24,Object(Ga.put)(Object(V.p)(r));case 24:n.next=30;break;case 26:return n.prev=26,n.t1=n.catch(18),n.next=30,Object(Ga.put)(Object(V.o)(n.t1));case 30:case"end":return n.stop()}}),fi,this,[[6,14],[18,26]])}function Ti(e){var t,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ga.select)(Object(y.E)());case 2:return t=n.sent,n.next=5,Object(Ga.select)(Object(y.t)());case 5:return o=n.sent,n.prev=6,n.next=9,Object(Ga.call)(Xa,t,o,e.fileKey);case 9:return r=n.sent,n.next=12,Object(Ga.put)(Object(V.m)(r));case 12:return n.next=14,Object(Ga.call)(Qa,t,o);case 14:return r=n.sent,n.next=17,Object(Ga.put)(Object(V.p)(r));case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n.catch(6),n.next=23,Object(Ga.put)(Object(V.l)(n.t0));case 23:case"end":return n.stop()}}),mi,this,[[6,19]])}function Bi(e){var t,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ga.select)(Object(y.E)());case 2:return t=r.sent,r.next=5,Object(Ga.select)(Object(y.b)());case 5:return o=r.sent,r.prev=6,r.next=9,Object(Ga.call)(ei,o,e.file.pk,e.file.meta_data,t);case 9:r.sent,r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(6),r.next=16,Object(Ga.put)(Object(V.I)(r.t0));case 16:case"end":return r.stop()}}),bi,this,[[6,12]])}function Mi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.delay)(2e3);case 2:return e.next=4,Object(Ga.put)(Object(V.h)());case 4:case"end":return e.stop()}}),vi,this)}function Ui(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLeading)(Ae.P,Fi);case 2:case"end":return e.stop()}}),hi,this)}function $i(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLeading)(Ae.S,Ai);case 2:case"end":return e.stop()}}),yi,this)}function Vi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLeading)(Ae.C,Ii);case 2:case"end":return e.stop()}}),gi,this)}function zi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLatest)(Ae.E,Mi);case 2:return e.next=4,Object(Ga.takeLatest)(Ae.W,Mi);case 4:case"end":return e.stop()}}),Oi,this)}function Gi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLatest)(Ae.Y,Ei);case 2:case"end":return e.stop()}}),wi,this)}function Hi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeEvery)(Ae.K,Bi);case 2:case"end":return e.stop()}}),ji,this)}function Yi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLeading)(Ae.m,Ti);case 2:case"end":return e.stop()}}),Ni,this)}function Wi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLatest)(Ae.s,Li);case 2:case"end":return e.stop()}}),ki,this)}function Ki(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.takeLeading)(Ae.U,Ri);case 2:case"end":return e.stop()}}),Si,this)}function qi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ga.all)([Ui(),Vi(),$i(),Gi(),Wi(),Ki(),zi(),Yi(),Hi()]);case 2:case"end":return e.stop()}}),xi,this)}function Ji(e){return(Ji="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t,o,r){oi||(oi="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);else t||(t=n||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:oi,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function es(e,t){return!t||"object"!==Ji(t)&&"function"!==typeof t?rs(e):t}function ts(e){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function os(e,t){return(os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ns(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var as=Zi("header",{className:"header save-header"},void 0,Zi("h2",{className:"section-title"},void 0,Zi("i",{className:"fa fa-check","aria-hidden":"true"}),"Save successful")),is=Zi("p",{className:"save-text"},void 0,"All changes have been saved."),ss=Zi("br",{}),cs=Zi("header",{className:"header error-header"},void 0,Zi("h2",{className:"section-title"},void 0,Zi("i",{className:"fa fa-times","aria-hidden":"true"}),"Please correct the errors below")),ls=Zi("div",{className:"row"},void 0,Zi("div",{className:"col spinner"},void 0,Zi(za.a,{}))),us=function(e){function t(){var e,o;Qi(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ns(rs(rs(o=es(this,(e=ts(t)).call.apply(e,[this].concat(n))))),"getProfile",(function(){return{ui_settings:{minimal:{visible:!0,default:{title:"profile-title",description:"profile-description"}}}}})),o}var o,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&os(e,t)}(t,e),o=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.brokerSubmissionId;void 0!==e&&(this.props.setLoading(!0),this.props.fetchSubmission(e))}},{key:"render",value:function(){var e=this;""!==this.props.brokerSubmissionId&&"/form"===this.props.match.path&&this.props.resetForm();var t,o=Zi(b.a,{in:this.props.showSaveSuccess},void 0,Zi("div",{className:"gray-background"},void 0,Zi("div",{className:"col-12"},void 0,as,is))),r=Zi(b.a,{in:this.props.submitError},void 0,Zi("div",{className:"gray-background"},void 0,Zi("div",{className:"col-12"},void 0,cs,Zi("p",{className:"save-text"},void 0,(t=[],e.props.submissionErrors.forEach((function(e){t.push(e),t.push(ss)})),t)),Zi(f.a,{variant:"secondary",className:"btn-sm btn-green-inverted",onClick:this.props.closeSubmitError},void 0,"Close")))),n="";return this.props.submission&&this.props.submission.issue&&(n=this.props.submission.issue),this.props.isLoading?ls:Zi("div",{className:"submission-form-wrapper"},void 0,Zi($a,{onSubmit:this.props.handleSubmit,submitInProgress:this.props.submitInProgress,saveInProgress:this.props.saveInProgress,profile:this.getProfile(),initialValues:this.props.initialValues,reduxFormWrapper:this.props.reduxFormForm.formWrapper,promptOnLeave:this.props.promptOnLeave,generalError:this.props.generalError,saveSuccessMessage:o,submitErrorMessage:r,brokerSubmissionId:this.props.brokerSubmissionId,accessionId:this.props.accessionId,isClosed:"CLOSED"===this.props.submission.status,issue:n}))}}])&&Xi(o.prototype,r),n&&Xi(o,n),t}(a.a.Component),ds=Object(s.b)({reduxFormForm:Object(y.k)(),submitInProgress:Object(y.D)(),saveInProgress:Object(y.u)(),initialValues:Object(y.m)(),submission:Object(y.A)(),brokerSubmissionId:Object(y.b)(),accessionId:Object(y.a)(),promptOnLeave:Object(y.q)(),showSaveSuccess:Object(y.w)(),submitError:Object(y.C)(),submissionErrors:Object(y.B)(),generalError:Object(y.l)(),isLoading:Object(y.o)()});var ps=Object(i.connect)(ds,(function(e){return{handleSubmit:function(t){return e(Object(V.L)(t))},fetchSubmission:function(t){return e(Object(V.q)(t))},resetForm:function(){return e(Object(V.y)())},setLoading:function(t){return e(Object(V.F)(t))},closeSubmitError:function(){return e(Object(V.i)())}}})),fs=Object(u.a)({key:"submissionForm",reducer:lt.a}),ms=Object(l.a)({key:"submissionForm",saga:qi});t.default=Object(c.compose)(fs,ms,ps)(us)}}]);