(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{d26088e76a0c90e341f8:function(e,t,n){"use strict";n.r(t),n.d(t,"SubmissionForm",(function(){return oc}));var o,r=n("8af190b70a6bc55c6f1b"),a=n.n(r),i=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("a28fc3c963a1d4d1a2e5"),s=n("ab4cb61bcb2dc161defb"),l=n("adc20f99e57c573c589c"),u=n("d95b0cf107403b178365"),d=n("edc5ec6b13db97ea0a32"),f=n("c79bff71b4b446824c56"),p=n.n(f),m=n("49837adb44020fc33e49"),b=n.n(m),v=n("51211e9c1f6999c9c028"),h=n("abf0602807d6660b903b");function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=g("h5",{},void 0,"Edit Contributor"),x=g("label",{htmlFor:"firstNameEdit"},void 0,"First Name"),C=g("label",{htmlFor:"lastNameEdit"},void 0,"Last Name"),_=g("label",{htmlFor:"emailAddressEdit"},void 0,"Email Address"),E=g("label",{htmlFor:"institutionEdit"},void 0,"Institution (optional)"),P=g("label",{htmlFor:"contributionEdit"},void 0,"Contribution (optional)"),D=g("div",{className:"form-group col-md-4"}),F=g("i",{className:"fa fa-bars"}),A=g("header",{className:"header header-left form-header-top mb-3"},void 0,g("h2",{className:"section-title"},void 0,"Contributors"),g("p",{className:"section-subtitle"},void 0,"(optional)")),R=g("li",{className:"list-inline-item"},void 0,g("p",{className:"contributor"},void 0,"Contributors:")),I=g("i",{className:"fa fa-plus"}),T=g("h5",{},void 0,"Add Contributor"),L=g("label",{htmlFor:"firstName"},void 0,"First Name"),B=g("label",{htmlFor:"lastName"},void 0,"Last Name"),M=g("label",{htmlFor:"emailAddress"},void 0,"Email Address"),U=g("label",{htmlFor:"institution"},void 0,"Institution (optional)"),$=g("label",{htmlFor:"contribution"},void 0,"Contribution (optional)"),z=g("div",{className:"form-group col-md-2"}),V=g("div",{className:"form-group col-md-4"}),G=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=N(t).call(this,e),n=!r||"object"!==y(r)&&"function"!==typeof r?j(o):r,k(j(j(n)),"cleanEditForm",(function(){document.getElementById("firstNameEdit").value="",document.getElementById("lastNameEdit").value="",document.getElementById("emailAddressEdit").value="",document.getElementById("institutionEdit").value="",document.getElementById("contributionEdit").value=""})),k(j(j(n)),"onSave",(function(){t.validateFormValues(n.state.formValues)&&(document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("emailAddress").value="",document.getElementById("institution").value="",document.getElementById("contribution").value="",n.props.addContributor(n.state.formValues),n.setState({formOpen:!1,formValues:{}}))})),k(j(j(n)),"onSaveEdit",(function(){var e={firstName:n.state.firstName,lastName:n.state.lastName,emailAddress:n.state.emailAddress,institution:n.state.institution,contribution:n.state.contribution};t.validateFormValues(e)&&(n.props.updateContributor(e,n.state.contributorIndex),n.cleanEditForm(),n.setState({detailOpen:!1,firstName:"",lastName:"",emailAddress:"",institution:"",contribution:""}))})),k(j(j(n)),"onClickAddButton",(function(e){n.setState({formOpen:e,detailOpen:!1})})),k(j(j(n)),"closeFormBody",(function(){n.setState({formOpen:!1})})),k(j(j(n)),"closeDetailBody",(function(){n.cleanEditForm(),n.setState({detailOpen:!1})})),k(j(j(n)),"onClickRemove",(function(){n.cleanEditForm(),n.props.removeContributor(n.state.contributorIndex),n.setState({detailOpen:!1})})),k(j(j(n)),"onClickDetailButton",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(t>=0){var o=n.getContributorsAsArray();n.setState({detailOpen:e,formOpen:!1,contributorIndex:t,current:o[t],value:o[t].firstName,firstName:o[t].firstName,lastName:o[t].lastName,emailAddress:o[t].emailAddress,institution:o[t].institution,contribution:o[t].contribution})}})),k(j(j(n)),"renderEditForm",(function(e){return g("div",{className:"card card-body"},void 0,S,g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-3"},void 0,x,g("input",{type:"text",className:"form-control",id:"firstNameEdit",onChange:n.handleChangeFirstName,value:n.state.firstName})),g("div",{className:"form-group col-md-3"},void 0,C,g("input",{type:"text",className:"form-control",id:"lastNameEdit",onChange:n.handleChangeLastName,value:n.state.lastName})),g("div",{className:"form-group col-md-6"},void 0,_,g("input",{type:"emailEdit",className:"form-control",id:"emailAddressEdit",placeholder:"name@example.com",onChange:n.handleChangeEmailAddress,value:n.state.emailAddress}))),g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-6"},void 0,E,g("input",{type:"text",className:"form-control",id:"institutionEdit",onChange:n.handleChangeInstitution,value:n.state.institution})),g("div",{className:"form-group col-md-6"},void 0,P,g("input",{type:"text",className:"form-control",id:"contributionEdit",onChange:n.handleChangeContribution,value:n.state.contribution}))),g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-2"},void 0,g(p.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",onClick:function(){return n.closeDetailBody()},"aria-controls":"contributorEditForm","aria-expanded":e},void 0,"Cancel")),g("div",{className:"form-group col-md-2"},void 0,g(p.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",onClick:function(){return n.onClickRemove()},"aria-controls":"contributorEditForm","aria-expanded":e},void 0,"Remove")),D,g("div",{className:"form-group col-md-4"},void 0,g(p.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue",onClick:n.onSaveEdit,"aria-controls":"contributorEditForm","aria-expanded":e},void 0,"Save"))))})),n.state={firstName:"",lastName:"",emailAddress:"",institution:"",contribution:"",formValues:{},current:{},formOpen:!1,detailOpen:!1,contributorIndex:-1},n.handleChange=n.handleChange.bind(j(j(n))),n.handleChangeFirstName=n.handleChangeFirstName.bind(j(j(n))),n.handleChangeLastName=n.handleChangeLastName.bind(j(j(n))),n.handleChangeEmailAddress=n.handleChangeEmailAddress.bind(j(j(n))),n.handleChangeInstitution=n.handleChangeInstitution.bind(j(j(n))),n.handleChangeContribution=n.handleChangeContribution.bind(j(j(n))),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,r=[{key:"validateFormValues",value:function(e){var t=!0;return e.firstName||(t=!1),e.lastName||(t=!1),e.emailAddress||(t=!1),t}}],(o=[{key:"handleChange",value:function(e){var t=this.state.formValues;t[e.target.id]=e.target.value,this.setState({formValues:t})}},{key:"handleChangeFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleChangeLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleChangeEmailAddress",value:function(e){this.setState({emailAddress:e.target.value})}},{key:"handleChangeInstitution",value:function(e){this.setState({institution:e.target.value})}},{key:"handleChangeContribution",value:function(e){this.setState({contribution:e.target.value})}},{key:"getContributorsAsArray",value:function(){var e=this.props.contributors;return Array.isArray(this.props.contributors)||(e=this.props.contributors.toJS()),e}},{key:"render",value:function(){var e=this,t=this.state,n=t.formOpen,o=t.detailOpen,r=this.renderEditForm(o),a=this.getContributorsAsArray().map((function(t,n){return g("li",{className:"list-inline-item"},n,g(p.a,{className:"btn btn-primary btn-contributor",onClick:function(){return e.onClickDetailButton(!o,n)},"aria-controls":"contributorForm","aria-expanded":o},void 0,F," ","".concat(t.firstName," ").concat(t.lastName)))}));return g("div",{},void 0,A,g("div",{className:"form-group"},void 0,g("ul",{className:"list-inline"},void 0,R,a,g("li",{className:"list-inline-item"},void 0,g(p.a,{className:"btn btn-primary btn-contributor",onClick:function(){return e.onClickAddButton(!n)},"aria-controls":"contributorForm","aria-expanded":n},void 0,I," add contributor"))),g(b.a,{in:this.state.formOpen},void 0,g("div",{className:"card card-body"},void 0,T,g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-3"},void 0,L,g("input",{type:"text",className:"form-control",id:"firstName",onChange:this.handleChange})),g("div",{className:"form-group col-md-3"},void 0,B,g("input",{type:"text",className:"form-control",id:"lastName",onChange:this.handleChange})),g("div",{className:"form-group col-md-6"},void 0,M,g("input",{type:"email",className:"form-control",id:"emailAddress",placeholder:"name@example.com",onChange:this.handleChange}))),g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-6"},void 0,U,g("input",{type:"text",className:"form-control",id:"institution",onChange:this.handleChange})),g("div",{className:"form-group col-md-6"},void 0,$,g("input",{type:"text",className:"form-control",id:"contribution",onChange:this.handleChange}))),g("div",{className:"form-row"},void 0,g("div",{className:"form-group col-md-2"},void 0,g(p.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",onClick:function(){return e.closeFormBody()},"aria-controls":"contributorForm","aria-expanded":n},void 0,"Cancel")),z,V,g("div",{className:"form-group col-md-4"},void 0,g(p.a,{className:"btn btn-secondary btn-sm btn-block btn-light-blue",onClick:this.onSave,"aria-controls":"contributorForm","aria-expanded":n},void 0,"Save"))))),g(b.a,{in:this.state.detailOpen},void 0,r)))}}])&&O(n.prototype,o),r&&O(n,r),t}(a.a.PureComponent),Y=Object(c.b)({contributors:Object(h.c)()});var W,q=Object(i.connect)(Y,(function(e){return{setContributors:function(t){return e(Object(v.E)(t))},addContributor:function(t){return e(Object(v.a)(t))},removeContributor:function(t){return e(Object(v.w)(t))},updateContributor:function(t,n){return e(Object(v.Q)(t,n))}}})),H=Object(s.compose)(q)(G);function Z(e){return(Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function K(e,t,n,o){W||(W="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:W,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?oe(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae,ie=K("header",{className:"header header-left form-header-top"},void 0,K("h2",{className:"section-title"},void 0,"Target Datacenter"),K("p",{className:"section-subtitle"},void 0,"(optional)")),ce=function(e){function t(){var e,n;Q(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return re(oe(oe(n=ee(this,(e=te(t)).call.apply(e,[this].concat(r))))),"dataCenterList",["GFBio Data Centers - our curators will suggest the appropriate one(s)","ENA \u2013 European Nucleotide Archive","PANGAEA \u2013 Data Publisher for Earth & Environmental Science","BGBM \u2013 Botanic Garden and Botanical Museum Berlin, Freie Universit\xe4t Berlin","DSMZ \u2013 Leibniz Institute DSMZ \u2013 German Collection of Microorganisms and Cell Cultures, Braunschweig","MfN \u2013 Leibniz Institute for Research on Evolution and Biodiversity, Berlin","SGN \u2013 Senckenberg Gesellschaft f\xfcr Naturforschung \u2013 Leibniz Institute, Frankfurt","SMNS \u2013 State Museum of Natural History Stuttgart","SNSB \u2013 Staatliche Naturwissenschaftliche Sammlungen Bayerns \u2013 SNSB IT Center, M\xfcnchen","ZFMK \u2013 Zoological Research Museum Alexander Koenig \u2013 Leibniz Institute for Animal Biodiversity, Bonn"]),re(oe(oe(n)),"dataCenterOptions",n.dataCenterList.map((function(e,t){return K("option",{},t,e)}))),re(oe(oe(n)),"renderDataCenterSelector",(function(e){var t=e.input,o=e.meta,r=o.touched,i=o.error;return K("div",{className:"form-group"},void 0,a.a.createElement("select",J({className:"form-control"},t),n.dataCenterOptions),r&&i&&K("span",{},void 0,i))})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return K("div",{},void 0,ie,K(d.Field,{name:"data_center",component:this.renderDataCenterSelector}))}}])&&X(n.prototype,o),r&&X(n,r),t}(a.a.PureComponent),se=n("c3070e7f848a6dafdfba");function le(e){return(le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t,n,o){ae||(ae="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:ae,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,t){return!t||"object"!==le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve,he=ue("header",{className:"header header-left form-header-top"},void 0,ue("h2",{className:"section-title"},void 0,"Categories for this submission"),ue("p",{className:"section-subtitle"},void 0,"(optional)")),ye=ue("label",{className:"custom-control-label",htmlFor:"algaeProtists"},void 0,"Algae & Protists"),ge=ue("label",{className:"custom-control-label",htmlFor:"bacteriologyOrVirology"},void 0,"Bacteriology or Virology"),Oe=ue("label",{className:"custom-control-label",htmlFor:"botany"},void 0,"Botany"),Ne=ue("label",{className:"custom-control-label",htmlFor:"ecologyEnvironment"},void 0,"Ecology & Environment"),we=ue("label",{className:"custom-control-label",htmlFor:"geoscience"},void 0,"Geoscience"),je=ue("label",{className:"custom-control-label",htmlFor:"microbiology"},void 0,"Microbiology"),ke=ue("label",{className:"custom-control-label",htmlFor:"mycology"},void 0,"Mycology"),Se=ue("label",{className:"custom-control-label",htmlFor:"palaeontology"},void 0,"Palaeontology"),xe=ue("label",{className:"custom-control-label",htmlFor:"zoology"},void 0,"Zoology"),Ce=function(e){function t(){return de(this,t),pe(this,me(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return ue("div",{},void 0,he,ue("div",{className:"form-row"},void 0,ue("div",{className:"form-group col-md-4"},void 0,ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Algae & Protists"),id:"algaeProtists",component:"input",type:"checkbox"}),ye),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Bacteriology or Virology"),id:"bacteriologyOrVirology",component:"input",type:"checkbox"}),ge),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Botany"),id:"botany",component:"input",type:"checkbox"}),Oe)),ue("div",{className:"form-group col-md-4"},void 0,ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Ecology & Environment"),id:"ecologyEnvironment",component:"input",type:"checkbox"}),Ne),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Geoscience"),id:"geoscience",component:"input",type:"checkbox"}),we),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Microbiology"),id:"microbiology",component:"input",type:"checkbox"}),je)),ue("div",{className:"form-group col-md-4"},void 0,ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Mycology"),id:"mycology",component:"input",type:"checkbox"}),ke),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Palaeontology"),id:"palaeontology",component:"input",type:"checkbox"}),Se),ue("div",{className:"custom-control custom-checkbox"},void 0,ue(d.Field,{className:"custom-control-input",name:"".concat(se.m,"Zoology"),id:"zoology",component:"input",type:"checkbox"}),xe))))}}])&&fe(n.prototype,o),r&&fe(n,r),t}(a.a.PureComponent),_e=n("5b74777a838b9a731e07");function Ee(e,t,n,o){ve||(ve="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:ve,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Pe(e){return(Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ae(e,t){return!t||"object"!==Pe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te,Le=Ee("div",{},void 0,Ee("header",{className:"header header-left form-header-top"},void 0,Ee("h2",{className:"section-title"},void 0,"Leave a comment for the curator"),Ee("p",{className:"section-subtitle"},void 0,"(optional)")),Ee("div",{className:"form-group"},void 0,Ee(_e.Field,{name:"comment",className:"form-control",component:"textarea",rows:"7",placeholder:"Enter a comment"}))),Be=function(e){function t(){return De(this,t),Ae(this,Re(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return Le}}])&&Fe(n.prototype,o),r&&Fe(n,r),t}(a.a.PureComponent),Me=n("d462437c302836d8053b");function Ue(e){return(Ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t,n,o){Te||(Te="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Te,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ge(e,t){return!t||"object"!==Ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe,He={CC010:{name:"CC0 1.0",shortDescription:"Others can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.",link:"https://creativecommons.org/publicdomain/zero/1.0/deed.en"},CCBY40:{name:"CC BY 4.0",shortDescription:"This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. ",link:"https://creativecommons.org/licenses/by/4.0/deed.en"},CCBYNC40:{name:"CC BY-NC 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don\u2019t have to license their derivative works on the same terms.",link:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},CCBYNCND40:{name:"CC BY-NC-ND 4.0",shortDescription:"This license lets others reuse the work for any purpose, including commercially; however, it cannot be shared with others in adapted form, and credit must be provided to you.",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en"},CCBYNCSA40:{name:"CC BY-NC-SA 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en"},CCBYND40:{name:"CC BY-ND 4.0",shortDescription:"This license is the most restrictive of the main creative commons licenses, only allowing others to download your works and share themwith others as long as they credit you, but they can\u2019t change them in any way or use them commercially.",link:"https://creativecommons.org/licenses/by-nd/4.0/deed.en"},CCBYSA40:{name:"CC BY-SA 4.0",shortDescription:"This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms.",link:"https://creativecommons.org/licenses/by-sa/4.0/deed.en"},OtherLicense:{name:"Other License",shortDescription:"",link:""}},Ze=$e("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},void 0,$e("span",{"aria-hidden":"true"},void 0,"\xd7")),Je=$e("h5",{},void 0,"What does this mean ?"),Ke=function(e){function t(){return ze(this,t),Ge(this,Ye(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this;return Object.keys(He).map((function(t){return $e("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},t,$e("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},void 0,$e("div",{className:"modal-content"},void 0,$e("div",{className:"modal-header"},void 0,$e("h4",{className:"modal-title",id:"exampleModalCenterTitle"},void 0,He[t].name+" Description"),Ze),$e("div",{className:"modal-body"},void 0,Je,$e("p",{},void 0,He[t].shortDescription)),$e("div",{className:"modal-footer"},void 0,$e("a",{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted",href:He[t].link,target:"_blank"},void 0,"Read More"),$e("a",{className:"btn btn-secondary btn-sm btn-block btn-light-blue-inverted mt-0","data-dismiss":"modal",onClick:function(){return e.props.onClickLicense(He[t].name)}},void 0,"Choose this License")))))}))}}])&&Ve(n.prototype,o),r&&Ve(n,r),t}(a.a.PureComponent);function Qe(e){return(Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t,n,o){qe||(qe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:qe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nt(e,t){return!t||"object"!==Qe(t)&&"function"!==typeof t?at(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct=Xe("header",{className:"header header-left form-header-top"},void 0,Xe("h2",{className:"section-title"},void 0,"License"),Xe("p",{className:"section-subtitle"})),st=Xe("i",{className:"fa fa-balance-scale"}),lt=Xe("p",{className:"align-bottom"},void 0,"change"),ut=function(e){function t(){var e,n;et(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return it(at(at(n=nt(this,(e=ot(t)).call.apply(e,[this].concat(r))))),"licenseListElements",Object.keys(He).map((function(e){return Xe("li",{className:"list-group-item"},e,"OtherLicense"===e?Xe("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse show","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense",onClick:function(){return n.props.onClickLicense(He[e].name)}},void 0,He[e].name):Xe("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse show","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense",onClick:function(){return n.props.onClickLicense(He[e].name)}},void 0,He[e].name,Xe("a",{className:"align-bottom","data-toggle":"modal","data-target":"#"+e},void 0,"details")))}))),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return Xe("div",{},void 0,ct,Xe(Ke,{onClickLicense:this.props.onClickLicense}),Xe("div",{className:"form-group accordion-form-content"},void 0,Xe("button",{className:"btn btn-primary btn-block btn-license text-left",type:"button","data-toggle":"collapse","data-target":"#collapseLicense","aria-expanded":"false","aria-controls":"collapseLicense"},void 0,st,this.props.license,lt),Xe("div",{className:"collapse",id:"collapseLicense"},void 0,Xe("div",{className:"card card-body"},void 0,Xe("ul",{className:"list-group"},void 0,this.licenseListElements)))))}}])&&tt(n.prototype,o),r&&tt(n,r),t}(a.a.PureComponent),dt=Object(c.b)({license:Object(h.n)()});var ft,pt=Object(i.connect)(dt,(function(e){return{onClickLicense:function(t){return e(Object(v.g)(t))}}})),mt=Object(u.a)({key:"submissionForm",reducer:Me.a}),bt=Object(s.compose)(mt,pt)(ut);function vt(e){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t,n,o){ft||(ft="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:ft,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ot(e,t){return!t||"object"!==vt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt,kt=ht("header",{className:"header header-left form-header-top"},void 0,ht("h2",{className:"section-title"},void 0,"Legal Requirements"),ht("p",{className:"section-subtitle"})),St=ht("label",{className:"custom-control-label",htmlFor:"nagoyaProtocol"},void 0,"Nagoya Protocol"),xt=ht("label",{className:"custom-control-label",htmlFor:"iucnList"},void 0,"IUCN Red List of Threatened Species"),Ct=ht("label",{className:"custom-control-label",htmlFor:"personalInformation"},void 0,"Sensitive Personal Information"),_t=ht("label",{className:"custom-control-label",htmlFor:"uncertain"},void 0,"Uncertain"),Et=function(e){function t(){return yt(this,t),Ot(this,Nt(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return ht("div",{},void 0,kt,ht("div",{className:"form-group"},void 0,ht("div",{className:"custom-control custom-checkbox"},void 0,ht(_e.Field,{className:"custom-control-input",name:"".concat(se.w,"Nagoya Protocol"),id:"nagoyaProtocol",component:"input",type:"checkbox"}),St),ht("div",{className:"custom-control custom-checkbox"},void 0,ht(_e.Field,{className:"custom-control-input",name:"".concat(se.w,"IUCN Red List of Threatened Species"),id:"iucnList",component:"input",type:"checkbox"}),xt),ht("div",{className:"custom-control custom-checkbox"},void 0,ht(_e.Field,{className:"custom-control-input",name:"".concat(se.w,"Sensitive Personal Information"),id:"personalInformation",component:"input",type:"checkbox"}),Ct),ht("div",{className:"custom-control custom-checkbox"},void 0,ht(_e.Field,{className:"custom-control-input",name:"".concat(se.w,"Uncertain"),id:"uncertain",component:"input",type:"checkbox"}),_t)))}}])&&gt(n.prototype,o),r&&gt(n,r),t}(a.a.PureComponent),Pt=n("9276ecdc67a85c47d0d5"),Dt=n.n(Pt),Ft=n("ec4402c766c5ab23549f"),At=n.n(Ft),Rt=n("5c500cb72abf1a5496ad"),It=n.n(Rt),Tt=n("344bb4e1e4c35d33bdc4"),Lt=n.n(Tt),Bt=n("ae7a56055b4f6f5a1f0e"),Mt=n.n(Bt),Ut=n("4b35067fbf1d2f545b81"),$t=n.n(Ut),zt=n("fd6dc3626fd8ada37e2f"),Vt=n.n(zt),Gt=n("2c0897311d3b61e80ea8"),Yt=n.n(Gt);function Wt(e){return(Wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n,o){jt||(jt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:jt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Jt(e,t){return!t||"object"!==Wt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt,en=qt("header",{className:"header header-left form-header-top"},void 0,qt("h2",{className:"section-title metadata-templates"},void 0,"Metadata Templates",qt(Yt.a,{placement:"right",overlay:qt(Vt.a,{id:"tooltip-right",className:"text-left"},void 0,"Using a metadata template is optional, but highly recommended. You can modify the existing templates to your needs.")},void 0,qt("span",{className:"upload-header"},void 0,qt("i",{className:"icon ion-ios-help-circle-outline help align-bottom ml-2","aria-hidden":"true"}))))),tn=qt("h5",{className:"metadata_data_title"},void 0,"Molecular Data Template:"),nn=qt("div",{},void 0,qt("a",{href:"https://gitlab.gwdg.de/gfbio/molecular-submission-templates/-/raw/master/full_template.csv?inline=false",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank",download:"download"},void 0,qt("i",{className:"icon ion-md-download"}),"CSV Template"),qt("a",{href:"https://gitlab.gwdg.de/gfbio/molecular-submission-templates/-/wikis/Template-Description",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,qt("i",{className:"icon ion-md-book"}),"Template Description")),on=qt("h5",{className:"metadata_data_last_title"},void 0,"Biodiversity, Ecological and Collection Data Template:"),rn=qt("div",{},void 0,qt("a",{href:"https://species-id.net/o/media/1/1d/GFBio_data_submission_template.zip",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,qt("i",{className:"icon ion-md-download"}),"CSV Template"),qt("a",{href:"https://gfbio.biowikifarm.net/wiki/Data_submission_templates_for_biodiversity,_ecological_and_collection_data",className:"list-group-item list-group-item-action metadata-link no-border",target:"_blank"},void 0,qt("i",{className:"icon ion-md-book"}),"Template Description")),an=function(e){function t(){return Ht(this,t),Jt(this,Kt(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return qt("div",{},void 0,en,qt("div",{className:"form-group list-group template-links"},void 0,tn,nn,on,rn))}}])&&Zt(n.prototype,o),r&&Zt(n,r),t}(a.a.PureComponent);function cn(e){return(cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t,n,o){Xt||(Xt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Xt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dn(e,t){return!t||"object"!==cn(t)&&"function"!==typeof t?mn(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=sn("i",{className:"fa fa-tags pub"}),hn=sn("i",{className:"fa fa-times"}),yn=sn("header",{className:"header header-left form-header-top"},void 0,sn("h2",{className:"section-title"},void 0,"Labels"),sn("p",{className:"section-subtitle"},void 0,"(optional)")),gn=function(e){function t(){var e,n;ln(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return bn(mn(mn(n=dn(this,(e=fn(t)).call.apply(e,[this].concat(r))))),"handleChange",(function(e){n.props.handleChange(e.target.value)})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.dataset_labels.map((function(t,n){if(""!==t)return sn("li",{className:"list-group-item d-flex justify-content-between align-items-center publication"},n,sn("span",{},void 0,vn," ",t," "),sn("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(n)}},void 0,hn,"Remove"))}));return sn("div",{},void 0,yn,sn("ul",{className:"list-group list-group-flush"},void 0,t),sn("div",{className:"form-row"},void 0,sn("div",{className:"form-group col-md-10"},void 0,sn("input",{className:"form-control",type:"text",id:"relatedPublication",value:this.props.currentLabel,placeholder:"Add Labels to your Dataset",onChange:this.handleChange})),sn("div",{className:"form-group col-md-2"},void 0,sn("a",{className:"btn btn-secondary btn-block btn-light-blue-inverted",onClick:function(t){t.preventDefault(),e.props.handleAdd(e.props.currentLabel)}},void 0,"Add"))))}}])&&un(n.prototype,o),r&&un(n,r),t}(a.a.PureComponent),On=Object(c.b)({dataset_labels:Object(h.f)(),currentLabel:Object(h.d)()});var Nn,wn=Object(i.connect)(On,(function(e){return{handleAdd:function(t){return e(Object(v.b)(t))},handleChange:function(t){return e(Object(v.e)(t))},handleRemove:function(t){return e(Object(v.x)(t))}}})),jn=Object(s.compose)(wn)(gn),kn=function(e){return e&&!/^(?:(?:https?|ftp|sftp|file):\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/i.test(e)?"Invalid Url":void 0};function Sn(e){return(Sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t,n,o){Nn||(Nn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Nn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pn(e,t){return!t||"object"!==Sn(t)&&"function"!==typeof t?An(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var In,Tn=xn("header",{className:"header header-left form-header-top"},void 0,xn("h2",{className:"section-title"},void 0,"Data URL"),xn("p",{className:"section-subtitle"},void 0,"(optional)")),Ln=function(e){function t(){var e,n;_n(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Rn(An(An(n=Pn(this,(e=Dn(t)).call.apply(e,[this].concat(r))))),"renderInputField",(function(e){var t=e.input,n=e.placeholder,o=e.type,r=e.meta,i=r.touched,c=r.error,s=r.warning;return xn("div",{},void 0,xn("div",{},void 0,a.a.createElement("input",Cn({},t,{placeholder:n,type:o,className:"form-control"})),i&&(c&&xn("span",{className:"input-error"},void 0,c)||s&&xn("span",{className:"input-warning"},void 0,s))))})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return xn("div",{},void 0,Tn,xn("div",{className:"form-group"},void 0,xn(d.Field,{name:"download_url",className:"form-control",component:this.renderInputField,type:"text",placeholder:"Link to your data, e.g. cloud storage",validate:kn})))}}])&&En(n.prototype,o),r&&En(n,r),t}(a.a.PureComponent),Bn=n("07d64e89d39e5a791727"),Mn=n.n(Bn),Un=(n("f85e09def79cc2a20bc2"),n("73da808b1d03ce734ff4")),$n=n.n(Un);function zn(e){return(zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t,n,o){In||(In="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:In,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wn(e,t){return!t||"object"!==zn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zn,Jn=function(e){function t(){return Gn(this,t),Wn(this,qn(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return Vn("button",{type:"button",className:this.props.cssClassName,onClick:this.props.onClick},void 0,Vn("i",{className:this.props.iconClassName}),this.props.text)}}])&&Yn(n.prototype,o),r&&Yn(n,r),t}(a.a.Component);function Kn(e){return(Kn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t,n,o){Zn||(Zn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Zn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Xn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ro=Qn("p",{className:"text-center"},void 0,"Your data is already public"),ao=Qn("i",{className:"icon ion-md-calendar align-top"}),io=Qn("span",{className:""},void 0,"Change embargo date"),co=Qn("i",{className:"fa fa-calendar-check-o align-top"}),so=Qn("span",{className:""},void 0,"Release tomorrow"),lo=Qn("header",{className:"header header-left form-header-top"},void 0,Qn("h2",{className:"section-title"},void 0,"Embargo Date"),Qn("p",{className:"section-subtitle"})),uo=Qn(It.a.Header,{className:"text-center",closeButton:!0},void 0,Qn("h4",{},void 0,"Select Embargo Date")),fo=Qn(Jn,{cssClassName:"btn btn-secondary btn-block btn-light-blue",iconClassName:"fa fa-calendar",text:"Set Embargo"}),po=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=eo(t).call(this,e),n=!r||"object"!==Kn(r)&&"function"!==typeof r?no(o):r,oo(no(no(n)),"showEmbargoButton",(function(){if(n.props.accessionId&&0!==n.props.accessionId.length){var e=!0;if(n.props.accessionId.forEach((function(t){"PUBLIC"===t.status&&(e=!1)})),!e)return ro}return Qn("div",{},void 0,Qn("p",{className:"text-center"},void 0,Qn("h4",{},void 0,$n()(n.props.embargoDate,"dd mmmm yyyy"))),Qn(p.a,{variant:"link",className:"btn-block btn-link-light-blue embargo-btn",onClick:n.props.openEmbargoDialog},void 0,ao,io))})),oo(no(no(n)),"showReleaseEmbargoButton",(function(){if(n.props.accessionId&&0===n.props.accessionId.length)return null;if(n.props.accessionId&&0!==n.props.accessionId.length){var e=!0;if(n.props.accessionId.forEach((function(t){"PUBLIC"===t.status&&(e=!1)})),!e)return null;var t=(new Date).setDate((new Date).getDate()+1);return Qn(p.a,{variant:"link",className:"btn-block btn-link-light-blue embargo-btn",onClick:function(){return n.props.setEmbargoDate(t)}},void 0,co,so)}return null})),n.state={embargoDate:n.props.embargoDate},n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(e,t,n){console.log(this.props.embargoDate)}},{key:"render",value:function(){var e=this,t=function(t,n){t?e.setState((function(e,n){return{embargoDate:t}})):e.setState((function(e,t){return{embargoDate:(new Date).setMonth((new Date).getMonth()+n)}}))},n=(new Date).setDate((new Date).getDate()+1),o=(new Date).setMonth((new Date).getMonth()+24);return Qn("div",{},void 0,lo,this.showEmbargoButton(),this.showReleaseEmbargoButton(),Qn(It.a,{show:this.props.showEmbargoDialog,onHide:this.props.closeEmbargoDialog,onShow:function(){e.setState((function(t,n){return{embargoDate:e.props.embargoDate}}))},backdrop:!0,centered:!0},void 0,uo,Qn(It.a.Body,{className:"text-center"},void 0,Qn(Lt.a,{},void 0,Qn(Mt.a,{className:"show-grid"},void 0,Qn($t.a,{},void 0,Qn("p",{},void 0,"New Embargo:"," ",Qn("b",{},void 0,$n()(this.state.embargoDate,"dd mmmm yyyy"))))),Qn(Mt.a,{className:"show-grid mb-4"},void 0,Qn($t.a,{xs:12,md:4},void 0,Qn(p.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,6)}},void 0,"6 months")),Qn($t.a,{xs:12,md:4},void 0,Qn(p.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,12)}},void 0,"12 months")),Qn($t.a,{xs:12,md:4},void 0,Qn(p.a,{variant:"secondary",className:"btn-sm btn-block btn-light-blue-inverted",onClick:function(){return t(null,18)}},void 0,"18 months"))),Qn(Mt.a,{className:"show-grid"},void 0,Qn($t.a,{xs:12,md:12,className:"embargo-picker"},void 0,Qn(Mn.a,{customInput:fo,inline:!0,selected:this.state.embargoDate,onChange:t,dateFormat:"MMMM d, yyyy",maxDate:o,minDate:n}))))),Qn(It.a.Footer,{className:"embargo-footer"},void 0,Qn(Lt.a,{},void 0,Qn(Mt.a,{className:"show-grid"},void 0,Qn($t.a,{xs:6,md:6},void 0,Qn(p.a,{variant:"secondary",className:"btn-sm btn-block btn-green-inverted",onClick:function(){e.props.setEmbargoDate(e.state.embargoDate),e.props.closeEmbargoDialog()}},void 0,"Accept")),Qn($t.a,{xs:6,md:6},void 0,Qn(p.a,{variant:"secondary",className:"btn-sm btn-block btn-red-inverted",onClick:this.props.closeEmbargoDialog},void 0,"Cancel")))))))}}])&&Xn(n.prototype,o),r&&Xn(n,r),t}(a.a.Component),mo=Object(c.b)({embargoDate:Object(h.g)(),showEmbargoDialog:Object(h.u)()});var bo,vo=Object(i.connect)(mo,(function(e){return{setEmbargoDate:function(t){return e(Object(v.F)(t))},openEmbargoDialog:function(){return e(Object(v.K)())},closeEmbargoDialog:function(){return e(Object(v.h)())},setEmbargoPeriod:function(t){return e(Object(v.F)((new Date).setMonth((new Date).getMonth()+t)))}}})),ho=Object(s.compose)(vo)(po);function yo(e){return(yo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t,n,o){bo||(bo="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:bo,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wo(e,t){return!t||"object"!==yo(t)&&"function"!==typeof t?So(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=go("i",{className:"icon ion-md-paper pub"}),_o=go("i",{className:"fa fa-times"}),Eo=go("header",{className:"header header-left form-header-top"},void 0,go("h2",{className:"section-title"},void 0,"Related Publications "),go("p",{className:"section-subtitle"},void 0,"(optional)")),Po=function(e){function t(){var e,n;Oo(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return xo(So(So(n=wo(this,(e=jo(t)).call.apply(e,[this].concat(r))))),"handleChange",(function(e){n.props.handleChange(e.target.value)})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.relatedPublications.map((function(t,n){if(""!==t)return go("li",{className:"list-group-item d-flex justify-content-between align-items-center publication"},n,go("span",{},void 0,Co," ",t),go("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(n)}},void 0,_o,"Remove"))}));return go("div",{},void 0,Eo,go("ul",{className:"list-group list-group-flush"},void 0,t),go("div",{className:"form-row"},void 0,go("div",{className:"form-group col-md-10"},void 0,go("input",{className:"form-control",type:"text",id:"relatedPublication",value:this.props.currentRelatedPublication,placeholder:"Enter a full citation or a DOI",onChange:this.handleChange})),go("div",{className:"form-group col-md-2"},void 0,go("a",{className:"btn btn-secondary btn-block btn-light-blue-inverted",onClick:function(t){t.preventDefault(),e.props.handleAdd(e.props.currentRelatedPublication)}},void 0,"Add"))))}}])&&No(n.prototype,o),r&&No(n,r),t}(a.a.PureComponent),Do=Object(c.b)({relatedPublications:Object(h.r)(),currentRelatedPublication:Object(h.e)()});var Fo,Ao=Object(i.connect)(Do,(function(e){return{handleAdd:function(t){return e(Object(v.d)(t))},handleChange:function(t){return e(Object(v.f)(t))},handleRemove:function(t){return e(Object(v.z)(t))}}})),Ro=Object(s.compose)(Ao)(Po),Io=n("b912ecc4473ae8a2ff0b"),To=n.n(Io),Lo=n("23b8d02be40765ac53e3"),Bo=n.n(Lo),Mo=n("875df5ab4dee6c9a40ff"),Uo=n.n(Mo);function $o(e){return($o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(e,t,n,o){Fo||(Fo="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Fo,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Vo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qo=zo("i",{className:"icon ion-md-document pub"}),Ho=zo("i",{className:"fa fa-trash","aria-hidden":"true"}),Zo=zo("i",{className:"icon ion-md-document pub"}),Jo=zo("span",{className:"pr-4 mr-3"}),Ko=zo("i",{className:"fa fa-trash","aria-hidden":"true"}),Qo=zo("li",{className:"list-group-item file-upload mb-3"},void 0,zo(Yt.a,{placement:"right",overlay:zo(Vt.a,{id:"tooltip-right"},void 0,"select the primary metadata file, e.g. metadata template")},void 0,zo("span",{className:"upload-header"},void 0,"Metadata",zo("i",{className:"icon ion-ios-help-circle-outline help align-bottom","aria-hidden":"true"})))),Xo=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Go(t).call(this,e))||"object"!==$o(r)&&"function"!==typeof r?Wo(o):r).handleMetadataSelect=n.handleMetadataSelect.bind(Wo(Wo(n))),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(t,e),n=t,(o=[{key:"handleMetadataSelect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.target.value.indexOf("uploaded_")>-1?this.props.changeMetaDataOnServer(e.target.value,t):this.props.changeMetaDataIndex(e.target.value)}},{key:"createUploadedListElements",value:function(){var e=this;return this.props.fileUploadsFromServer.map((function(t,n){var o=zo("small",{className:"file-name"},void 0,zo("input",{type:"checkbox",id:"primaryUploaded".concat(n),value:"uploaded_".concat(n),onChange:function(n){e.handleMetadataSelect(n,t)},checked:t.meta_data}),zo("label",{htmlFor:"primaryUploaded".concat(n),className:"metadata"}),qo,t.file_name);return zo("li",{className:"list-group-item file-upload success"},n,zo("div",{className:"d-flex justify-content-between align-items-center"},void 0,zo("div",{},void 0,o),zo("div",{},void 0,zo("small",{className:"mr-5 file-size"},void 0,Uo()(t.file_size)),zo("button",{className:"btn btn-remove",onClick:function(n){n.preventDefault(),e.props.deleteFile(t.pk)}},void 0,Ho))))}))}},{key:"createScheduledUploadListElements",value:function(){var e=this;return this.props.fileUploads.map((function(t,n){var o={width:"".concat(t.progress,"%")},r=zo("small",{className:"file-name"},void 0,zo("input",{type:"checkbox",id:"primary".concat(n),value:n,onChange:e.handleMetadataSelect,checked:t.metaData}),zo("label",{htmlFor:"primary".concat(n),className:"metadata"}),Zo,t.file.name);return zo("li",{className:"list-group-item file-upload "+t.status},n,zo("div",{className:"d-flex justify-content-between align-items-center"},void 0,zo("div",{},void 0,r),zo("div",{},void 0,zo("small",{className:"mr-5 file-size"},void 0,Uo()(t.file.size)),Jo,zo("button",{className:"btn btn-remove",onClick:function(t){t.preventDefault(),e.props.handleRemove(n)}},void 0,Ko))),zo("div",{className:"progress"},void 0,zo("div",{className:"progress-bar",role:"progressbar",style:o,"aria-valuenow":"".concat(t.progress),"aria-valuemin":"0","aria-valuemax":"100"})))}))}},{key:"render",value:function(){var e=this.createUploadedListElements(),t=this.createScheduledUploadListElements(),n=null;return(t.size>0||this.props.fileUploadsFromServer.length>0)&&(n=Qo),zo("ul",{className:"list-group list-group-flush"},void 0,n,e,t)}}])&&Vo(n.prototype,o),r&&Vo(n,r),t}(a.a.Component),er=Object(c.b)({fileUploads:Object(h.h)(),fileUploadsFromServer:Object(h.i)(),metaDataIndex:Object(h.o)()});var tr,nr=Object(i.connect)(er,(function(e){return{handleRemove:function(t){return e(Object(v.y)(t))},changeMetaDataIndex:function(t){return e(Object(v.H)(t))},changeMetaDataOnServer:function(t,n){return e(Object(v.I)(t,n))},deleteFile:function(t){return e(Object(v.l)(t))}}})),or=Object(s.compose)(nr)(Xo),rr=n("987f407fc383a6eedc35"),ar=n.n(rr),ir=n("0f92590f552ab9dc25d2");function cr(e,t,n,o){tr||(tr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:tr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var sr=cr("div",{className:"alert-heading h4"},void 0,cr("i",{className:"fa  fa-bolt"})," Upload limit exceeded"),lr=cr("p",{},void 0,"If you need to a upload more than 20 files, or more than 200 MB, either provide a URL in the field below, or leave a comment for the curator at the bottom.");var ur,dr=function(e,t){return cr(b.a,{in:e},void 0,cr("div",{className:"form-group col-md-12"},void 0,cr("div",{role:"alert",className:"fade alert alert-light show"},void 0,sr,lr)))};function fr(e){return(fr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t,n,o){ur||(ur="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:ur,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hr(e,t){return!t||"object"!==fr(t)&&"function"!==typeof t?Or(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wr=pr("header",{className:"header header-left form-header-top"},void 0,pr("h2",{className:"section-title"},void 0,"Upload Data"),pr("p",{className:"section-subtitle"},void 0,"(optional)")),jr=pr(or,{}),kr=pr("p",{},void 0,"Drop files here..."),Sr=pr("p",{},void 0,"Try ",pr("b",{},void 0,"dropping")," some files here, or ",pr("b",{},void 0,"click")," to select files to upload."),xr=function(e){function t(){var e,n;br(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Nr(Or(Or(n=hr(this,(e=yr(t)).call.apply(e,[this].concat(r))))),"matchingUploadLimit",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,o=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done);o=!0){var s=i.value;t+=s.size}}catch(e){r=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}var l=0,u=!0,d=!1,f=void 0;try{for(var p,m=n.props.fileUploads[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var b=p.value;l+=b.file.size}}catch(e){d=!0,f=e}finally{try{u||null==m.return||m.return()}finally{if(d)throw f}}var v=0,h=!0,y=!1,g=void 0;try{for(var O,N=n.props.fileUploadsFromServer[Symbol.iterator]();!(h=(O=N.next()).done);h=!0){var w=O.value;v+=w.file_size}}catch(e){y=!0,g=e}finally{try{h||null==N.return||N.return()}finally{if(y)throw g}}var j=0;return void 0!==n.props.fileUploadsFromServer.length&&(j=n.props.fileUploadsFromServer.length),t+l+v<=ir.d&&e.length+n.props.fileUploads.size+j<=ir.e?(n.props.dismissShowUploadLimit(),!0):(n.props.showUploadLimit(),!1)})),Nr(Or(Or(n)),"onDrop",(function(e,t){var o=[],r=!0,a=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;o.push({id:ar.a.generate(),progress:0,file:l,status:"pending",metaData:!1,messages:{}})}}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}n.props.handleDrop(o)})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gr(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){this.matchingUploadLimit();var e=dr(this.props.showUploadLimitMessage,this.props.dismissShowUploadLimit);return pr("div",{},void 0,wr,jr,e,pr("div",{className:"form-group"},void 0,pr(Bo.a,{onDrop:this.onDrop,multiple:!0},void 0,(function(e){var t=e.getRootProps,n=e.getInputProps,o=e.isDragActive;return a.a.createElement("div",mr({},t(),{className:To()("dropzone",{"dropzone--isActive":o})}),a.a.createElement("input",n()),o?kr:Sr)}))))}}])&&vr(n.prototype,o),r&&vr(n,r),t}(a.a.PureComponent),Cr=Object(c.b)({fileUploads:Object(h.h)(),showUploadLimitMessage:Object(h.y)(),fileUploadsFromServer:Object(h.i)()});var _r,Er,Pr=Object(i.connect)(Cr,(function(e){return{handleDrop:function(t){return e(Object(v.c)(t))},showUploadLimit:function(){return e(Object(v.L)())},dismissShowUploadLimit:function(){return e(Object(v.o)())}}})),Dr=Object(s.compose)(Pr)(xr),Fr=function(e){return e||"number"===typeof e?void 0:"This field is required"};_r=2;function Ar(e){return(Ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t,n,o){Er||(Er="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Er,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Br(e,t){return!t||"object"!==Ar(t)&&"function"!==typeof t?$r(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t){return(Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr,Gr=Rr("header",{className:"header header-left form-header-top"},void 0,Rr("h2",{className:"section-title"},void 0,"Title"),Rr("p",{className:"section-subtitle"})),Yr=Rr("header",{className:"header header-left form-header-top"},void 0,Rr("h2",{className:"section-title"},void 0,"Description"),Rr("p",{className:"section-subtitle"})),Wr=Rr(Dr,{}),qr=function(e){function t(){var e,n;Tr(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return zr($r($r(n=Br(this,(e=Mr(t)).call.apply(e,[this].concat(r))))),"renderInputField",(function(e){var t=e.input,n=e.placeholder,o=e.type,r=e.meta,i=r.touched,c=r.error,s=r.warning;return Rr("div",{},void 0,Rr("div",{},void 0,a.a.createElement("input",Ir({},t,{placeholder:n,type:o,className:"form-control"})),i&&(c&&Rr("span",{className:"input-error"},void 0,c)||s&&Rr("span",{className:"input-warning"},void 0,s))))})),zr($r($r(n)),"renderTextAreaField",(function(e){var t=e.input,n=e.placeholder,o=e.type,r=e.rows,i=e.meta,c=i.touched,s=i.error,l=i.warning;return Rr("div",{},void 0,Rr("div",{},void 0,a.a.createElement("textarea",Ir({},t,{placeholder:n,type:o,rows:r,className:"form-control"})),c&&(s&&Rr("span",{className:"input-error"},void 0,s)||l&&Rr("span",{className:"input-warning"},void 0,l))))})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ur(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return Rr("div",{},void 0,Gr,Rr("div",{className:"form-group"},void 0,Rr(d.Field,{name:"title",className:"form-control",component:this.renderInputField,type:"text",placeholder:"Enter a title for your dataset",validate:Fr})),Yr,Rr("div",{className:"form-group"},void 0,Rr(d.Field,{name:"description",className:"form-control",component:this.renderTextAreaField,rows:"7",placeholder:"Describe your dataset",validate:Fr})),Wr)}}])&&Lr(n.prototype,o),r&&Lr(n,r),t}(a.a.PureComponent);function Hr(e,t,n,o){Vr||(Vr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Vr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Zr=Hr("i",{className:"fa fa-bookmark-o","aria-hidden":"true"}),Jr=Hr("br",{}),Kr=Hr("div",{},void 0,Hr("i",{className:"fa fa-archive","aria-hidden":"true"}),"ENA Accession:",Hr("br",{})),Qr=Hr("i",{className:"fa fa-tags","aria-hidden":"true"}),Xr=Hr("br",{}),ea=Hr("i",{className:"fa fa-comments","aria-hidden":"true"}),ta=Hr("header",{className:"header header-left form-header-top"},void 0,Hr("h2",{className:"section-title"},void 0,"Info"),Hr("p",{className:"section-subtitle"}));var na,oa=function(e){var t=[],n="mailto:info@gfbio.org?subject=Help with Submission ".concat(e.brokerSubmissionId,"&body=Dear GFBio Team,");return e.brokerSubmissionId.length>0&&t.push([Hr("li",{className:"list-group-item"},void 0,Hr("a",{},void 0,Zr,"Submission Id: ",Jr,Hr("div",{className:"bsi"},void 0,e.brokerSubmissionId)))]),e.accessionId&&e.accessionId.length>0&&(t.push(Kr),e.accessionId.forEach((function(e){t.push(Hr("li",{className:"list-group-item"},void 0,Hr("a",{},void 0,Hr("div",{className:"bsi"},void 0,Hr("span",{style:{fontWeight:600}},void 0,"ID"),": ",e.pid),Hr("div",{className:"bsi",style:{marginTop:0}},void 0,Hr("span",{style:{fontWeight:600}},void 0,"Status"),":"," ",e.status))))}))),e.issue.length>0&&t.push(Hr("li",{className:"list-group-item"},void 0,Hr("a",{target:"_blank",rel:"noopener noreferrer",className:"external",href:ir.c+e.issue},void 0,Qr,"Ticket:",Xr,Hr("div",{className:"bsi"},void 0,e.issue)))),t.push(Hr("li",{className:"list-group-item"},void 0,Hr("a",{href:n,className:"external"},void 0,ea,"Do you need Help ?"))),Hr("div",{className:""},void 0,ta,Hr("div",{className:"submission-info"},void 0,Hr("ul",{className:"list-group list-group-flush"},void 0,t)))};function ra(e){return(ra="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ma(e,t,n[t])}))}return e}function ia(e,t,n,o){na||(na="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:na,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ca(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ua(e,t){return!t||"object"!==ra(t)&&"function"!==typeof t?pa(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ba=ia("i",{className:"ti-layout-line-solid icon "}),va=ia("i",{className:"ti-arrow-right icon pl-1"}),ha=ia(Dt.a.Heading,{},void 0,ia("i",{className:"fa  fa-bolt"})," There are some validation errors"),ya=ia("li",{className:"list-group-item"},void 0,ia("span",{className:"validation-error-item"},void 0,"Once all errors are resolved, try to submit again.")),ga=ia(It.a.Header,{closeButton:!0},void 0,ia(It.a.Title,{className:"pl-4"},void 0,"Leave this section ?")),Oa=ia(It.a.Body,{},void 0,ia(Lt.a,{},void 0,ia(Mt.a,{className:"show-grid text-center"},void 0,ia($t.a,{xs:12,md:12},void 0,"Are you sure leaving this form ? Press 'Cancel' to stay or press 'Save' to save changes before leaving. Press 'Discard' to leave with out saving.")))),Na=ia("i",{className:"icon ion-md-close"}),wa=ia("i",{className:"icon ion-ios-save"}),ja=ia("i",{className:"icon ion-md-alert"}),ka=ia(qr,{}),Sa=ia(Ln,{}),xa=ia(H,{}),Ca=ia(ce,{}),_a=ia(Ce,{}),Ea=ia(jn,{}),Pa=ia(Ro,{}),Da=ia(Be,{}),Fa=ia(bt,{}),Aa=ia(Et,{}),Ra=ia(an,{}),Ia=function(e){function t(){var e,n;sa(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return ma(pa(pa(n=ua(this,(e=da(t)).call.apply(e,[this].concat(r))))),"getSyncErrors",(function(){if(void 0!==n.props.reduxFormWrapper)return n.props.reduxFormWrapper.syncErrors})),ma(pa(pa(n)),"getFields",(function(){if(void 0!==n.props.reduxFormWrapper)return n.props.reduxFormWrapper.fields})),ma(pa(pa(n)),"getMutualErrorMessages",(function(){var e={},t=n.getSyncErrors(),o={},r=n.getFields(),a=new Set,i=new Set;void 0!==t&&void 0!==r&&(e=t,o=r,a=new Set(Object.keys(e)),i=new Set(Object.keys(o)));var c=new Set(ca(a).filter((function(e){return i.has(e)})));return n.props.generalError&&(e["General Form Error"]="Please check the form for dedicated error messages",c.add("General Form Error")),[c,e]})),ma(pa(pa(n)),"prepareErrorNotification",(function(){var e=n.getMutualErrorMessages(),t=e[0],o=e[1],r=ca(t).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return ia("li",{className:"list-group-item"},t,ia("span",{className:"validation-error-item"},void 0,ba,n,va,o[e]))}));return Object.keys(o).length<=0?null:ia(Dt.a,{variant:"light"},void 0,ha,ia("ul",{className:"list-group list-group-flush"},void 0,r,ya))})),ma(pa(pa(n)),"renderNavigationPrompt",(function(){return!1===n.props.pristine&&n.props.promptOnLeave||n.props.formChanged?ia(At.a,{when:!0},void 0,(function(e){var t=e.onConfirm,o=e.onCancel;return ia(It.a,{show:!0,onHide:o,backdrop:!0,centered:!0},void 0,ga,Oa,ia(It.a.Footer,{},void 0,ia(Lt.a,{},void 0,ia(Mt.a,{className:"show-grid"},void 0,ia($t.a,{xs:12,md:4},void 0,ia(p.a,{variant:"secondary",className:"btn-block btn-sm green",onClick:o},void 0,Na,"Cancel")),ia($t.a,{xs:12,md:4,className:"text-right"},void 0,ia(p.a,{variant:"secondary",className:"btn-block btn-sm btn-light-blue",onClick:n.props.handleSubmit((function(e){return n.props.onSubmit(aa({},e,{workflow:"save"}))}))},void 0,wa,"Save")),ia($t.a,{xs:12,md:4,className:"text-right"},void 0,ia(p.a,{variant:"secondary",className:"btn-block btn-sm red",onClick:function(e){e.preventDefault(),n.props.setFormChanged(!1),n.props.reset(),t()}},void 0,ja,"Discard"))))))})):null})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this;console.info("RENDER FORMWRAPER"),console.info(this.props);var t="fa-play",n="Start Submission";""!==this.props.brokerSubmissionId&&(n="Update Submission",t="fa fa-forward"),this.props.submitInProgress&&(t="fa-cog fa-spin fa-fw",n="submitting ..."),this.props.saveInProgress;var o=this.prepareErrorNotification();return ia("form",{name:"wrapping-form",className:"pagewide-form",onSubmit:function(e){e.preventDefault()}},void 0,ia("div",{className:"container"},void 0,ia("div",{className:"row"},void 0,ia("div",{className:"col-md-9 form-col"},void 0,this.renderNavigationPrompt(),ka,Sa,xa,Ca,_a,Ea,Pa,Da),ia("div",{className:"col-md-3 sidebar-col"},void 0,ia(oa,{brokerSubmissionId:this.props.brokerSubmissionId,accessionId:this.props.accessionId,issue:this.props.issue}),Fa,Aa,Ra,ia(ho,{accessionId:this.props.accessionId}))),ia("div",{className:"row"},void 0,ia("div",{className:"col-md-9 form-footer"},void 0,ia("div",{className:"form-row"},void 0,ia("div",{className:"form-group col-md-12"},void 0,o)),ia("div",{className:"form-row"},void 0,ia("div",{className:"form-group col-md-12"},void 0,this.props.saveSuccessMessage,this.props.submitErrorMessage)),ia("div",{className:"form-row mt-5"},void 0,ia("div",{className:"form-group col-md-12"},void 0,ia("button",{type:"submit",className:"btn btn-secondary btn-block green",onClick:this.props.handleSubmit((function(t){return e.props.onSubmit(aa({},t,{workflow:"submit"}))}))},void 0,ia("i",{className:"fa ".concat(t)}),n)))),ia("div",{className:"col-md-3"}))))}}])&&la(n.prototype,o),r&&la(n,r),t}(a.a.PureComponent),Ta=Object(c.b)({formChanged:Object(h.j)()});Ia=Object(i.connect)(Ta,(function(e){return{setFormChanged:function(){return e(Object(v.G)(!1))}}}))(Ia);var La=Ia=Object(d.reduxForm)({form:"formWrapper",enableReinitialize:!0})(Ia),Ba=n("97925be2959ab7c6c8ab"),Ma=n("bd183afcc37eabd79225"),Ua=n.n(Ma),$a=n("7719267b28dd5a765e23"),za=function(e,t){return Ua.a.create({baseURL:ir.a+ir.g,headers:{Authorization:"Token "+e,"Content-Type":"application/json"}}).post("",t)},Va=function(e,t,n){var o={headers:{Authorization:"Token "+e,"Content-Type":"application/json"}};return Ua.a.put("".concat(ir.a+ir.g+t,"/"),n,o)},Ga=function(e,t){var n={headers:{Authorization:"Token "+e}};return Ua.a.get("".concat(ir.a+ir.g+t,"/"),n)},Ya=function(e,t,n){var o=Ua.a.create({baseURL:ir.a+ir.g+t+ir.b,headers:{Authorization:"Token "+e,"Content-Type":"application/json"}}),r=new FormData;return r.append("comment",n),o.post("",r)},Wa=function(e,t){var n={headers:{Authorization:"Token "+e}};return Ua.a.get("".concat(ir.a+ir.g+t+ir.i),n)},qa=function(e,t,n){var o={headers:{Authorization:"Token "+e}};return Ua.a.delete("".concat(ir.a+ir.g+t+ir.h+n),o)},Ha=function(e,t,n,o){var r=new FormData;r.append("meta_data",n),r.append("attach_to_ticket",!1);var a={headers:{Authorization:"Token "+o}},i="".concat(ir.a+ir.g+e+ir.h+ir.j+t+"/");return Ua.a.patch(i,r,a)};function Za(e,t,n,o,r){return Object($a.eventChannel)((function(a){var i=new FormData;i.append("file",t),i.append("attach_to_ticket",n),i.append("meta_data",o);var c={headers:{Authorization:"Token "+r},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a(t)}};Ua.a.post(ir.a+ir.g+e+ir.h,i,c).then((function(){a($a.END)})).catch((function(e){a(new Error(e.message)),a($a.END)}));return function(){}}))}var Ja,Ka=n("accfe20dac886d57b695"),Qa=regeneratorRuntime.mark(Ni),Xa=regeneratorRuntime.mark(wi),ei=regeneratorRuntime.mark(ji),ti=regeneratorRuntime.mark(ki),ni=regeneratorRuntime.mark(Si),oi=regeneratorRuntime.mark(xi),ri=regeneratorRuntime.mark(Ci),ai=regeneratorRuntime.mark(_i),ii=regeneratorRuntime.mark(Ei),ci=regeneratorRuntime.mark(Pi),si=regeneratorRuntime.mark(Di),li=regeneratorRuntime.mark(Fi),ui=regeneratorRuntime.mark(Ai),di=regeneratorRuntime.mark(Ri),fi=regeneratorRuntime.mark(Ii),pi=regeneratorRuntime.mark(Ti),mi=regeneratorRuntime.mark(Li),bi=regeneratorRuntime.mark(Bi),vi=regeneratorRuntime.mark(Mi),hi=regeneratorRuntime.mark(Ui),yi=regeneratorRuntime.mark($i),gi=regeneratorRuntime.mark(zi),Oi=regeneratorRuntime.mark(Vi);function Ni(e){var t,n,o,r,a,i,c,s,l,u,d,f,p,m,b,v,y=arguments;return regeneratorRuntime.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=!(y.length>1&&void 0!==y[1])||y[1],g.next=3,Object(Ba.select)(Object(h.k)());case 3:for(s in n=g.sent,o=n.formWrapper||{},r=o.values||{},a=r.comment||"",delete r.comment,i=[],c=[],r)s.includes("legal-requirement")&&(!0===r[s]&&i.push(s.replace("legal-requirement ","")),delete r[s]),s.includes("data-category")&&(!0===r[s]&&c.push(s.replace("data-category ","")),delete r[s]);return g.next=13,Object(Ba.select)(Object(h.n)());case 13:return l=g.sent,g.next=16,Object(Ba.select)(Object(h.r)());case 16:return u=g.sent,g.next=19,Object(Ba.select)(Object(h.f)());case 19:return d=g.sent,g.next=22,Object(Ba.select)(Object(h.c)());case 22:return f=g.sent,g.next=25,Object(Ba.select)(Object(h.g)());case 25:return p=g.sent,m=$n()(p,"yyyy-mm-dd"),b=Object.assign({license:l,legal_requirements:i,related_publications:u,dataset_labels:d,categories:c,contributors:f},r),v={target:"GENERIC",release:t,submitting_user:e,download_url:r.download_url,embargo:m,data:{requirements:b}},g.abrupt("return",{payload:v,comment:a});case 30:case"end":return g.stop()}}),Qa,this)}function wi(e,t){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=1,o.next=4,Object(Ba.take)(e);case 4:return n=o.sent,o.next=7,Object(Ba.put)(Object(v.W)(t,n));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(Ba.put)(Object(v.V)(t,o.t0));case 13:return o.prev=13,o.next=16,Object(Ba.put)(Object(v.X)(t));case 16:return o.next=18,Object(Ba.cancelled)();case 18:if(!o.sent){o.next=20;break}e.close();case 20:return o.finish(13);case 21:o.next=0;break;case 23:case"end":return o.stop()}}),Xa,this,[[1,9,13,21]])}function ji(e,t,n,o){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ba.call)(Za,t,n.file,!0,n.metaData,e);case 3:return r=a.sent,a.next=6,Object(Ba.fork)(wi,r,o);case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(Ba.put)(Object(v.V)(o,a.t0));case 12:case"end":return a.stop()}}),ei,this,[[0,8]])}function ki(e){var t,n,o,r,a,i,c,s,l;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(Ba.select)(Object(h.h)());case 2:return t=u.sent,u.next=5,Object(Ba.select)(Object(h.D)());case 5:n=u.sent,o=0,r=!0,a=!1,i=void 0,u.prev=10,c=t[Symbol.iterator]();case 12:if(r=(s=c.next()).done){u.next=20;break}return l=s.value,u.next=16,Object(Ba.call)(ji,n,e,l,o);case 16:o++;case 17:r=!0,u.next=12;break;case 20:u.next=26;break;case 22:u.prev=22,u.t0=u.catch(10),a=!0,i=u.t0;case 26:u.prev=26,u.prev=27,r||null==c.return||c.return();case 29:if(u.prev=29,!a){u.next=32;break}throw i;case 32:return u.finish(29);case 33:return u.finish(26);case 34:return u.next=36,Object(Ba.put)(Object(v.Y)({}));case 36:case"end":return u.stop()}}),ti,this,[[10,22,26,34],[27,,29,33]])}function Si(e,t){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ba.select)(Object(h.D)());case 2:if(n=r.sent,""===t){r.next=16;break}return r.prev=4,r.next=7,Object(Ba.call)(Ya,n,e,t);case 7:return o=r.sent,r.next=10,Object(Ba.put)(Object(v.v)(o));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(4),r.next=16,Object(Ba.put)(Object(v.u)(r.t0));case 16:case"end":return r.stop()}}),ni,this,[[4,12]])}function xi(){var e,t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ba.select)(Object(h.b)());case 2:if(""===r.sent){r.next=8;break}return r.next=6,Object(Ba.put)(Object(v.R)(!0));case 6:r.next=35;break;case 8:return r.next=10,Object(Ba.select)(Object(h.D)());case 10:return e=r.sent,r.next=13,Object(Ba.select)(Object(h.F)());case 13:return t=r.sent,r.next=16,Ni(t,!0);case 16:return n=r.sent,r.prev=17,r.next=20,Object(Ba.call)(za,e,n.payload);case 20:return o=r.sent,r.next=23,Object(Ba.call)(ki,o.data.broker_submission_id);case 23:return r.next=25,Object(Ba.call)(Si,o.data.broker_submission_id,n.comment);case 25:return r.next=27,Object(Ba.put)(Object(v.P)(o));case 27:return r.next=29,Object(Ba.put)(Object(Ka.push)("/list"));case 29:r.next=35;break;case 31:return r.prev=31,r.t0=r.catch(17),r.next=35,Object(Ba.put)(Object(v.N)(r.t0));case 35:case"end":return r.stop()}}),oi,this,[[17,31]])}function Ci(){var e,t,n,o,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ba.select)(Object(h.b)());case 2:if(e=i.sent,t="no_brokersubmission_id",""===e){i.next=9;break}return i.next=7,Object(Ba.put)(Object(v.R)(!1));case 7:i.next=37;break;case 9:return i.next=11,Object(Ba.select)(Object(h.D)());case 11:return n=i.sent,i.next=14,Object(Ba.select)(Object(h.F)());case 14:return o=i.sent,i.next=17,Ni(o,!1);case 17:return r=i.sent,i.prev=18,i.next=21,Object(Ba.call)(za,n,r.payload);case 21:return a=i.sent,t=a.data.broker_submission_id,i.next=25,Object(Ba.call)(ki,t);case 25:return i.next=27,Object(Ba.call)(Si,t,r.comment);case 27:return i.next=29,Object(Ba.put)(Object(v.D)(a));case 29:return i.next=31,Object(Ba.put)(Object(Ka.push)("/list"));case 31:i.next=37;break;case 33:return i.prev=33,i.t0=i.catch(18),i.next=37,Object(Ba.put)(Object(v.C)(i.t0));case 37:case"end":return i.stop()}}),ri,this,[[18,33]])}function _i(){var e,t,n,o,r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ba.select)(Object(h.b)());case 2:return e=i.sent,i.next=5,Object(Ba.select)(Object(h.D)());case 5:return t=i.sent,i.next=8,Object(Ba.select)(Object(h.F)());case 8:return n=i.sent,i.next=11,Object(Ba.select)(Object(h.E)());case 11:return o=i.sent,i.next=14,Ni(n,o);case 14:return r=i.sent,i.prev=15,i.next=18,Object(Ba.call)(Va,t,e,r.payload);case 18:return a=i.sent,i.next=21,Object(Ba.call)(ki,e);case 21:return i.next=23,Object(Ba.call)(Si,e,r.comment);case 23:if(!o){i.next=30;break}return i.next=26,Object(Ba.put)(Object(v.U)(a));case 26:return i.next=28,Object(Ba.put)(Object(Ka.push)("/list"));case 28:i.next=34;break;case 30:return i.next=32,Object(Ba.put)(Object(v.T)(a));case 32:return i.next=34,Object(Ba.put)(Object(Ka.push)("/list"));case 34:i.next=40;break;case 36:return i.prev=36,i.t0=i.catch(15),i.next=40,Object(Ba.put)(Object(v.S)(i.t0));case 40:case"end":return i.stop()}}),ai,this,[[15,36]])}function Ei(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ba.select)(Object(h.l)());case 2:return e=n.sent,n.next=5,Object(Ba.select)(Object(h.q)());case 5:if(t=n.sent,!e){n.next=11;break}return n.next=9,Object(Ba.put)(Object(v.N)());case 9:n.next=19;break;case 11:if("save"!==t.workflow){n.next=16;break}return n.next=14,Object(Ba.put)(Object(v.B)());case 14:n.next=19;break;case 16:if("submit"!==t.workflow){n.next=19;break}return n.next=19,Object(Ba.put)(Object(v.O)());case 19:case"end":return n.stop()}}),ii,this)}function Pi(){var e,t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ba.select)(Object(h.D)());case 2:return e=r.sent,r.next=5,Object(Ba.select)(Object(h.s)());case 5:return t=r.sent,r.prev=6,r.next=9,Object(Ba.call)(Ga,e,t);case 9:return n=r.sent,r.next=12,Object(Ba.put)(Object(v.t)(n));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(6),r.next=18,Object(Ba.put)(Object(v.s)(r.t0));case 18:return r.prev=18,r.next=21,Object(Ba.call)(Wa,e,t);case 21:return o=r.sent,r.next=24,Object(Ba.put)(Object(v.q)(o));case 24:r.next=30;break;case 26:return r.prev=26,r.t1=r.catch(18),r.next=30,Object(Ba.put)(Object(v.p)(r.t1));case 30:case"end":return r.stop()}}),ci,this,[[6,14],[18,26]])}function Di(e){var t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ba.select)(Object(h.D)());case 2:return t=r.sent,r.next=5,Object(Ba.select)(Object(h.s)());case 5:return n=r.sent,r.prev=6,r.next=9,Object(Ba.call)(qa,t,n,e.fileKey);case 9:return o=r.sent,r.next=12,Object(Ba.put)(Object(v.n)(o));case 12:return r.next=14,Object(Ba.call)(Wa,t,n);case 14:return o=r.sent,r.next=17,Object(Ba.put)(Object(v.q)(o));case 17:r.next=23;break;case 19:return r.prev=19,r.t0=r.catch(6),r.next=23,Object(Ba.put)(Object(v.m)(r.t0));case 23:case"end":return r.stop()}}),si,this,[[6,19]])}function Fi(e){var t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Ba.select)(Object(h.D)());case 2:return t=o.sent,o.next=5,Object(Ba.select)(Object(h.b)());case 5:return n=o.sent,o.prev=6,o.next=9,Object(Ba.call)(Ha,n,e.file.pk,e.file.meta_data,t);case 9:o.sent,o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(6),o.next=16,Object(Ba.put)(Object(v.J)(o.t0));case 16:case"end":return o.stop()}}),li,this,[[6,12]])}function Ai(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.delay)(2e3);case 2:return e.next=4,Object(Ba.put)(Object(v.i)());case 4:case"end":return e.stop()}}),ui,this)}function Ri(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLeading)(se.Q,Ei);case 2:case"end":return e.stop()}}),di,this)}function Ii(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLeading)(se.T,xi);case 2:case"end":return e.stop()}}),fi,this)}function Ti(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLeading)(se.E,Ci);case 2:case"end":return e.stop()}}),pi,this)}function Li(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLatest)(se.G,Ai);case 2:return e.next=4,Object(Ba.takeLatest)(se.Y,Ai);case 4:case"end":return e.stop()}}),mi,this)}function Bi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLatest)(se.ab,ki);case 2:case"end":return e.stop()}}),bi,this)}function Mi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeEvery)(se.L,Fi);case 2:case"end":return e.stop()}}),vi,this)}function Ui(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLeading)(se.n,Di);case 2:case"end":return e.stop()}}),hi,this)}function $i(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLatest)(se.t,Pi);case 2:case"end":return e.stop()}}),yi,this)}function zi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.takeLeading)(se.W,_i);case 2:case"end":return e.stop()}}),gi,this)}function Vi(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ba.all)([Ri(),Ti(),Ii(),Bi(),$i(),zi(),Li(),Ui(),Mi()]);case 2:case"end":return e.stop()}}),Oi,this)}function Gi(e){return(Gi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t,n,o){Ja||(Ja="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:Ja,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hi(e,t){return!t||"object"!==Gi(t)&&"function"!==typeof t?Ki(e):t}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ji(e,t){return(Ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=Yi("header",{className:"header save-header"},void 0,Yi("h2",{className:"section-title"},void 0,Yi("i",{className:"fa fa-check","aria-hidden":"true"}),"Save successful")),ec=Yi("p",{className:"save-text"},void 0,"All changes have been saved."),tc=Yi("br",{}),nc=Yi("header",{className:"header error-header"},void 0,Yi("h2",{className:"section-title"},void 0,Yi("i",{className:"fa fa-times","aria-hidden":"true"}),"Please correct the errors below")),oc=function(e){function t(){var e,n;Wi(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return Qi(Ki(Ki(n=Hi(this,(e=Zi(t)).call.apply(e,[this].concat(r))))),"getProfile",(function(){return{ui_settings:{minimal:{visible:!0,default:{title:"profile-title",description:"profile-description"}}}}})),n}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ji(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.match.params.brokerSubmissionId;void 0!==e&&this.props.fetchSubmission(e)}},{key:"render",value:function(){var e=this;console.info("RENDER SUBMISSIONFORM"),console.info(this.props),""!==this.props.brokerSubmissionId&&"/form"===this.props.match.path&&this.props.resetForm();var t,n=Yi(b.a,{in:this.props.showSaveSuccess},void 0,Yi("div",{className:"gray-background"},void 0,Yi("div",{className:"col-12"},void 0,Xi,ec))),o=Yi(b.a,{in:this.props.submitError},void 0,Yi("div",{className:"gray-background"},void 0,Yi("div",{className:"col-12"},void 0,nc,Yi("p",{className:"save-text"},void 0,(t=[],e.props.submissionErrors.forEach((function(e){t.push(e),t.push(tc)})),t)),Yi(p.a,{variant:"secondary",className:"btn-sm btn-green-inverted",onClick:this.props.closeSubmitError},void 0,"Close")))),r="";return this.props.submission&&this.props.submission.issue&&(r=this.props.submission.issue),Yi("div",{className:"submission-form-wrapper"},void 0,Yi(La,{onSubmit:this.props.handleSubmit,submitInProgress:this.props.submitInProgress,saveInProgress:this.props.saveInProgress,profile:this.getProfile(),initialValues:this.props.initialValues,reduxFormWrapper:this.props.reduxFormForm.formWrapper,promptOnLeave:this.props.promptOnLeave,generalError:this.props.generalError,saveSuccessMessage:n,submitErrorMessage:o,brokerSubmissionId:this.props.brokerSubmissionId,accessionId:this.props.accessionId,issue:r}))}}])&&qi(n.prototype,o),r&&qi(n,r),t}(a.a.Component),rc=Object(c.b)({reduxFormForm:Object(h.k)(),submitInProgress:Object(h.C)(),saveInProgress:Object(h.t)(),initialValues:Object(h.m)(),submission:Object(h.z)(),brokerSubmissionId:Object(h.b)(),accessionId:Object(h.a)(),promptOnLeave:Object(h.p)(),showSaveSuccess:Object(h.v)(),submitError:Object(h.B)(),submissionErrors:Object(h.A)(),generalError:Object(h.l)()});var ac=Object(i.connect)(rc,(function(e){return{handleSubmit:function(t){return e(Object(v.M)(t))},fetchSubmission:function(t){return e(Object(v.r)(t))},resetForm:function(){return e(Object(v.A)())},closeSubmitError:function(){return e(Object(v.j)())}}})),ic=Object(u.a)({key:"submissionForm",reducer:Me.a}),cc=Object(l.a)({key:"submissionForm",saga:Vi});t.default=Object(s.compose)(ic,cc,ac)(oc)}}]);