# SOP Release1. Pre-requisite      ssh access as root to production system           ssh -l cloud 141.5.106.43      cd to working directory        cd /var/www/gfbio_submissions/1. Create postgres backup (docker containers have to be up)        sudo docker-compose -f production.yml run --rm postgres backup		sudo docker-compose -f production.yml run postgres list-backups		docker ps		docker cp <container_id>:/backups /var/www/gfbio_submissions       1. Stop docker containers via supervisord (site/services unavailable!)		sudo supervisorctl stop gfbio_submissions		supervisorctl status	[Optional] check docker/docker-compose status:			docker ps -ade		docker volume ls		docker volume ls -f dangling=true		docker-compose ps1. Get updates from git repository and checkout latest tag		git fetch		[optional] git tag		git checkout <tag_label/number>1. Decrypt env file		echo 'THE_PASSWORD' | sudo gpg --batch --yes --passphrase-fd 0 encrypted.env.gpg1. Build docker containers		sudo docker-compose -f production.yml build1. Apply migrations		sudo docker-compose -f production.yml run --rm django python manage.py migrate1. Collect static files		sudo docker-compose -f production.yml run --rm django python manage.py collectstatic1. Start docker containers		sudo supervisorctl start gfbio_submissions		sudo supervisorctl status		